_horiBOList=0;_vertBOList=1;_wrapBOList=2;_andOrBOList=3;_lstNobord="3px solid #FFFFFF";_lstBord="3px solid #C00000";_lstNullbord="0px solid #FFFFFF";_dropFeebackWidget=null;_dropParentWidget=null;_dropPosition=-1;function newBOListContainerWidget(c,r,j,f,k,m,p,q,n,g,a,b,i){var d=newWidget(c),s=k==_vertBOList,e=null;d.w=r;d.h=j;d.andOrList=newBOListWidget("andOrList_"+c,Math.max(0,r-18),j,f,k,m,p,q,n,a,i);d.noText=g?g:false;e=(s?_lstMoveUpLab:_lstMoveLeftLab);d.up=newButtonWidget("andOrList_up_"+c,g?null:e,AndOrContainerWidget_upDownCb,null,null,g?e:null,null,null,_skin+"buttonIcons.gif",16,16,0,s?64:32,null,16,s?64:32);e=(s?_lstMoveDownLab:_lstMoveRightLab);d.down=newButtonWidget("andOrList_down_"+c,g?null:e,AndOrContainerWidget_upDownCb,null,null,g?e:null,null,null,_skin+"buttonIcons.gif",16,16,0,s?80:48,null,16,s?80:48);d.up.lst=d;d.up.isUp=true;d.down.lst=d;d.down.isUp=false;d.down.extraStyle=d.up.extraStyle="margin-top:2px;";if(b){e=_lstQuickFilterLab;d.quickFilter=newButtonWidget("andOrList_quickFilter_"+c,g?null:e,b,null,null,g?e:null,null,null,_skin+"buttonIcons.gif",16,16,0,160,null,16,160);d.quickFilter.lst=d;d.quickFilter.extraStyle="margin-top:2px;"}d.getList=AndOrContainerWidget_getList;d.getHTML=AndOrContainerWidget_getHTML;d.oldResize=d.resize;d.resize=AndOrContainerWidget_resize;d.moveElem=AndOrContainerWidget_moveElem;d.prvInit=d.init;d.init=AndOrContainerWidget_init;d.chgLayout=BOListContainerWidget_chgLayout;return d}function BOListContainerWidget_chgLayout(c){var d=this,a=(c==_vertBOList),b=d.noText;if(d.layer==null){return}l=(a?_lstMoveUpLab:_lstMoveLeftLab);if(!b){d.up.setText(l)}d.up.changeImg(0,a?64:32,16,a?64:32,null,l);l=(a?_lstMoveDownLab:_lstMoveRightLab);if(!b){d.down.setText(l)}d.down.changeImg(0,a?80:48,16,a?80:48,null,l)}function newBOListWidget(b,n,f,d,g,i,k,m,j,a,e){var c=newScrolledZoneWidget(b,2,4,n,f);c.image=d;c.layout=g;c.autofit=true;c.items=new Array;c.counter=0;c.list=c;c.help=e;c.helpZone=newWidget("boListCont_help_"+c.id);c.changeCB=i;c.dblClickCB=k;c.moveCB=m;c.deleteCB=j;c.focusCB=a;c.getHTML=BOListWidget_getHTML;c.add=BOListWidget_add;c.genericAdd=BOListWidget_genericAdd;c.setDragDrop=AndOrBOListWidget_setDragDrop;c.unselect=AndOrBOListWidget_unselect;c.getSelection=BOListWidget_getSelection;c.getChildIndex=AndOrNodeWidget_getChildIndex;c.select=BOListWidget_select;c.selectByVal=BOListWidget_selectByVal;c.remove=BOListWidget_remove;c.getElement=BOListWidget_getElement;c.getElementByValue=BOListWidget_getElementByValue;c.oldAONodeInit=c.init;c.init=BOListWidget_init;c.removeChild=BOListWidget_removeChild;c.getLastItem=AndOrNodeWidget_getLastItem;c.getLength=AndOrNodeWidget_getLength;c.getItem=AndOrNodeWidget_getItem;c.selection=null;c.htmlWritten=false;c.move=BOListWidget_move;c.getContentTag=BOListWidget_getContentTag;c.showOrhideHelp=BOListWidget_showOrhideHelp;c.oldresize=c.resize;c.resize=BOListWidget_resize;switch(g){case _vertBOList:c.lBegin="<tr><td>";c.lEnd="</td></tr>";c.iBegin="";c.iEnd="";c.createCell=false;break;default:c.lBegin="<tr>";c.lEnd="</tr>";c.iBegin="<td>";c.iEnd="</td>";c.createCell=true;break}return c}function BOListWidget_focusCB(){var a=getWidget(this);if(a.focusCB){a.focusCB()}}function BOListWidget_getHTML(g){var h=this,d=h.items,b=d.length,c=new Array(b+3),e=0;h.htmlWritten=true;c[e++]=(g?"":h.beginHTML())+'<table id="boListCont_'+h.id+'" cellpadding="0" cellspacing="0" border="0"><tbody>'+h.lBegin;for(var f in d){c[e++]=h.iBegin+d[f].getHTML()+h.iEnd}c[e++]=h.lEnd+"</tbody></table>";c[e++]='<div id="boListCont_help_'+h.id+'" class="bgzone" style="overflow:visible" ><i>'+(h.help?h.help:"")+"</i></div>";c[e++]=(g?"":h.endHTML());return c.join("")}function BOListWidget_init(){var d=this,b=d.items;d.oldAONodeInit();if(!d.htmlWritten){d.layer.innerHTML=d.getHTML(true);d.oldAONodeInit()}if(d.layer._counter!=null){d.counter=d.layer._counter}else{d.layer._counter=d.counter}d.layer.onmousedown=BOListWidget_focusCB;for(var c in b){b[c].init()}var a=d.dragDrop;if(_ie&&a){a.attachCallbacks(d.layer);d.layer.BODDType="list"}d.helpZone.init();d.showOrhideHelp()}function BOListWidget_showOrhideHelp(){var b=this;if(b.help){var a=b.items.length;if(a==0){b.helpZone.setDisplay(true)}else{b.helpZone.setDisplay(false)}BOListWidget_resizeHelp(b,b.getWidth())}}function BOListWidget_resizeHelp(b,a){if(b.help&&b.helpZone.isDisplayed()){b.helpZone.resize(Math.max(0,a-20),null)}}function BOListWidget_getSelection(){var e=this,d=e.selection;if(d){var f=d.id,b=-1,a=e.items;len=a.length;for(var c=0;c<len;c++){if(a[c].id==f){b=c;break}}ret=new Object;ret.index=c;ret.value=d.value;return ret}else{return null}}function BOListWidget_getContentTag(){var b=this;var a=b.layer.childNodes[0].childNodes[0].childNodes[0];if(!b.createCell){a=a.childNodes[0]}return a}function BOListWidget_genericAdd(c,a){c.fullW=true;var h=this,g=h.list;a=arrayAdd(h,"items",c,a);var b=h.items;c.par=h;c.list=h.list;if(h.layer){var f=h.getContentTag();var e=c.getHTML();if(h.createCell){var d=_curDoc.createElement("td");d.innerHTML=e;if(a==(b.length-1)){f.appendChild(d)}else{f.insertBefore(d,f.childNodes[a])}}else{if((a==-1)||(a==(b.length-1))){append(f,e)}else{insBefore(f.childNodes[a],e)}}c.init()}h.showOrhideHelp();return c}function BOListWidget_add(h,b,e,i,f){var a=this,g=a.getLastItem();var c=a.genericAdd(newAndOrNodeItem(a.id+"_item-"+(a.counter++),h,b,e,i),f);var d=a.getLastItem();if(a.layer){if(g&&(d.id!=g.id)){if(a.layout==_vertBOList){g.css.borderBottom=_lstNullbord}else{g.css.borderRight=_lstNullbord}}a.layer._counter=a.counter}return c}function BOListWidget_select(c){var b=this.items,a=b.length;c=c==-1?a-1:c;if((c>=0)&&(c<a)){b[c].select(true)}}function BOListWidget_getElementByValue(d){var e=this,b=e.items,a=b.length;for(var c=0;c<a;c++){if(b[c].value==d){return b[c]}}return null}function BOListWidget_getElement(b){var c=this.items,a=c.length;return((b>=0)&&(b<a))?c[b]:null}function BOListWidget_remove(a){var c=this;if(a==null){while(c.items.length>0){c.remove(0)}}else{var b=c.getElement(a);if(b){b.remove()}}}function BOListWidget_selectByVal(b){var a=this.getElementByValue(b);if(a){a.select(true)}}function BOListWidget_removeChild(j){var d=this,k=d.items,g=k.length,h=d.list;for(var f=0;f<g;f++){var n=k[f];if(n.id==j.id){var e=n.layer;if(n.selected){n.select(false)}if(e){var b=e.parentNode;if(d.createCell){e=b;b=b.parentNode}b.removeChild(e)}arrayRemove(d,"items",f);k=d.items;var a=Math.min(f,k.length-1);if(a>=0){k[a].select(true);var m=d.getLastItem();if(d.layer){if(m&&!m.isNode()){var c=d.list.layout;if(c==_vertBOList){m.css.borderBottom=_lstNobord}else{m.css.borderRight=_lstNobord}}}}else{d.select(true)}break}}d.showOrhideHelp()}function BOListWidget_move(c,b,a){var d=this;c.select(false);var f=d.add(c.text,c.imgIndex,c.value,c.tooltip,a);c.remove();f.select(true)}function BOListWidget_resize(a,b){var c=this;BOListWidget_resizeHelp(c,a);c.oldresize(a,b)}function newAndOrContainerWidget(a,p,g,d,j,m,i,n,q,k,e,f){var b=newWidget(a),c;b.w=p;b.h=g;b.andOrList=newAndOrBOListWidget("andOrList_"+a,10,g,d,j,m,i,n,q,k,f);c=_lstMoveUpLab;b.up=newButtonWidget("andOrList_up_"+a,e?null:c,AndOrContainerWidget_upDownCb,null,null,e?c:null,null,null,_skin+"buttonIcons.gif",16,16,0,64,null,16,64);c=_lstMoveDownLab;b.down=newButtonWidget("andOrList_down_"+a,e?null:c,AndOrContainerWidget_upDownCb,null,null,e?c:null,null,null,_skin+"buttonIcons.gif",16,16,0,80,null,16,80);c=_lstNewNodeLab;b.newNode=newButtonWidget("andOrList_newNode_"+a,e?null:c,AndOrContainerWidget_nodeCb,null,null,e?c:null,null,null,_skin+"buttonIcons.gif",16,16,0,96,null,16,96);b.down.extraStyle="margin-top:2px;";b.newNode.extraStyle="margin-top:2px;";b.up.lst=b;b.up.isUp=true;b.down.lst=b;b.down.isUp=false;b.newNode.lst=b;b.getList=AndOrContainerWidget_getList;b.getHTML=AndOrContainerWidget_getHTML;b.oldResize=b.resize;b.resize=AndOrContainerWidget_resize;b.moveElem=AndOrContainerWidget_moveElem;b.canBeMoved=AndOrContainerWidget_canBeMoved;b.prvInit=b.init;b.init=AndOrContainerWidget_init;return b}function AndOrContainerWidget_init(){var a=this;a.rightZone=getLayer("rightZone_"+a.id);a.prvInit();a.up.init();a.down.init();if(a.quickFilter){a.quickFilter.init()}if(a.newNode){a.newNode.init()}a.andOrList.init();a.resize(a.w,a.h)}function AndOrContainerWidget_getHTML(){var b=this,a=b.andOrList;return'<table id="'+b.id+'" style="overflow:hidden;width:'+b.w+"px;height="+b.h+'px" cellpadding="0" cellspacing="0" border="0"><tbody><tr><td  style="padding-right:5px" width="100%">'+a.getHTML()+'</td><td id="rightZone_'+b.id+'" align="center" valign="top">'+b.up.getHTML()+b.down.getHTML()+(b.newNode?b.newNode.getHTML():"")+(b.quickFilter?b.quickFilter.getHTML():"")+"</td></tr></tbody></table>"}function AndOrContainerWidget_getList(){return this.andOrList}function AndOrContainerWidget_resize(a,c){var f=this;f.oldResize(a,c);var b=f.rightZone.offsetWidth;f.andOrList.resize(a!=null?Math.max(0,a-b-5):null,c);f.up.resize(b);f.down.resize(b);if(f.quickFilter){f.quickFilter.resize(b)}if(f.newNode){f.newNode.resize(b)}var e=f.layer.display!="none";if(e&_moz&&!_saf){f.setDisplay(false)}f.oldResize(a,c);if(e&_moz&&!_saf){f.setDisplay(true)}}function AndOrContainerWidget_upDownCb(){var c=this.lst,b=c.andOrList,a=b.selection;if(a){c.moveElem(a,this.isUp)}}function AndOrContainerWidget_nodeCb(){var b=this.lst.andOrList,a=b.getSelection();if(a){var c=null;if(a.isNode()){c=a.addNode(!a.isAnd,"")}else{c=a.par.addNode(!a.par.isAnd,"",a.getIndexInParent()+1)}c.select(true);if(b.newNodeCB){b.newNodeCB()}}}function AndOrContainerWidget_canBeMoved(e,b){var f=this,d=e.par;if(d){var a=d.getChildIndex(e),c=a;if(a!=-1){if(b&&(a>0)){return true}else{if(!b&&(a<(d.items.length-1))){return true}else{a+=(b?-1:2);if((a<0)||(a>d.items.length)){if(d.par){return true}}}}}}return false}function AndOrContainerWidget_moveElem(c,f){var b=this,d=c.par;if(d){var i=d.getChildIndex(c),a=i;if(i!=-1){if(f&&(i>0)&&(d.items[i-1].isNode())){d=d.items[i-1];i=d.items.length}else{if(!f&&(i<(d.items.length-1))&&(d.items[i+1].isNode())){d=d.items[i+1];i=0}else{i+=(f?-1:2);if((i<0)||(i>d.items.length)){var e=d;d=d.par;if(d){i=d.getChildIndex(e)+(f?0:1)}}}}if(d){var g=b.getList(),h=true;if(g.moveCB){h=g.moveCB(c,d,i)}if((h==null)||h){g.move(c,d,i)}}}}}function newAndOrBOListWidget(a,m,e,c,g,j,f,k,n,i,d){var b=newScrolledZoneWidget(a,2,4,m,e);b.image=c;b.changeCB=g;b.dblClickCB=j;b.andOrCB=f;b.moveCB=k;b.newNodeCB=n;b.deleteCB=i;b.layout=_andOrBOList;b.root=newAndOrNodeWidget(a+"_rootOperator",true,"");b.root.list=b;b.selection=b.root;b.root.selected=true;b.help=d;b.helpZone=newWidget("andOrCont_help_"+a);b.getHTML=AndOrBOListWidget_getHTML;b.getRoot=AndOrBOListWidget_getRoot;b.setDragDrop=AndOrBOListWidget_setDragDrop;b.unselect=AndOrBOListWidget_unselect;b.getSelection=AndOrBOListWidget_getSelection;b.select=AndOrBOListWidget_select;b.getElementByValue=AndOrBOListWidget_getElementByValue;b.showOrhideRoot=AndOrBOListWidget_showOrhideRoot;b.oldAOListInit=b.init;b.init=AndOrBOListWidget_init;b.move=AndOrBOListWidget_move;b.htmlWritten=false;b.oldresize=b.resize;b.resize=AndOrBOListWidget_resize;return b}function AndOrBOListWidget_move(b,c,a){if(c){var d=null;b.select(false);if(b.isNode()){d=c.addCopyNode(b,a)}else{if(b.isAdvFilter){d=c.addAdvFilterItem(b.text,b.imgIndex,b.value,b.tooltip,a)}else{d=c.addItem(b.text,b.imgIndex,b.value,b.tooltip,a)}}b.remove();d.select(true)}}function AndOrBOListWidget_getSelection(){return this.selection}function AndOrBOListWidget_select(a){a.select(true)}function AndOrBOListWidget_getElementByValue(a){return this.root.getElementByValue(a)}function AndOrBOListWidget_init(){var b=this;b.oldAOListInit();if(!b.htmlWritten){b.layer.innerHTML=b.getHTML(true);b.oldAOListInit()}b.root.init();b.helpZone.init();b.showOrhideRoot();var a=b.dragDrop;if(_ie&&a){a.attachCallbacks(b.layer);b.layer.BODDType="andorlist"}}function AndOrBOListWidget_unselect(){var a=this;if(a.selection){a.selection.select(false)}}function AndOrBOListWidget_getHTML(e){var f=this;f.htmlWritten=true;var c=new Array(3),d=0,b=f.root.items.length;c[d++]=(e?"":f.beginHTML());c[d++]='<div id="andOrCont_'+f.id+'"><div id="andOrCont_help_'+f.id+'" class="bgzone" style="overflow:visible"><i>'+(f.help?f.help:"")+"</i></div>"+f.root.getHTML()+"</div>";c[d++]=(e?"":f.endHTML());return c.join("")}function AndOrBOListWidget_getRoot(){return this.root}function AndOrBOListWidget_showOrhideHelp(b){if(b.help){var a=b.root.items.length;if(a==0){b.helpZone.setDisplay(true)}else{b.helpZone.setDisplay(false)}AndOrBOListWidget_resizeHelp(b,b.getWidth())}}function AndOrBOListWidget_resizeHelp(b,a){if(b.help&&b.helpZone.isDisplayed()){b.helpZone.resize(Math.max(0,a-20),null)}}function AndOrBOListWidget_showOrhideRoot(){var d=this,c=d.root,a=c.items.length,b=true;if(d.layer){if((a==0)||((a==1)&&(!c.items[0].isNode()))){b=false}c.operLayer.parentNode.style.display=b?"":"none";AndOrBOListWidget_showOrhideHelp(d)}}function AndOrBOListWidget_resize(a,b){var c=this;AndOrBOListWidget_resizeHelp(c,a);c.oldresize(a,b)}function AndOrBOListWidget_setDragDrop(c,b,a){var d=this;d.dragCB=c;d.acceptDropCB=b;d.dropCB=a;d.dragDrop=newDragDropData(d,EBLWidget_dragStartCB,EBLWidget_dragCB,EBLWidget_dragEndCB,EBLWidget_acceptDropCB,EBLWidget_leaveDropCB,EBLWidget_dropCB)}function EBLWidget_getDropInfo(a){var b=getWidget(a);switch(a.BODDType){case"root":case"nodebg":case"list":case"andorlist":_dropParentWidget=b.items?b:b.root;_dropFeebackWidget=_dropParentWidget.getLastItem();if((a.BODDType=="nodebg")&&(_dropFeebackWidget==null)){_dropFeebackWidget=_dropParentWidget}_dropPosition=-1;break;case"node":case"item":_dropParentWidget=b.par;_dropFeebackWidget=b;_dropPosition=b.getIndexInParent();break}return _dropFeebackWidget}function EBLWidget_dragStartCB(c,a){var d=getWidget(a);_curWin.event.cancelBubble=true;if(d){var b=d.list;c.dragCB(c);newTooltipWidget().show(true,d.text?d.text:(d.isAnd?_lstAndLabel:_lstOrLabel),d.text?b.image:null,16,16,0,d.imgIndex*16)}}function EBLWidget_dragCB(c,b,a){newTooltipWidget().setPos(a)}function EBLWidget_dragEndCB(a){newTooltipWidget().show(false)}function EBLWidget_acceptDropCB(a,h,b,d,g,i){var c=EBLWidget_getDropInfo(g);h.dropWidget=_dropParentWidget;h.dropIndex=_dropPosition;var f=h.acceptDropCB(a,h,b,d);if(f&&c){if(a&&(a.id==h.id)){var j=a.selection;if((j&&j.isNode()&&(c.isChildOf(j)))||(d&&j&&c.isNode()&&(j.isChildOf(c)))||(!b&&j&&(j.id==c.id))){c.setInsertFeedback(false,d);return false}if(!d&&!b&&c.par&&(c.par==j.par)){var e=j.getIndexInParent();if(e==(_dropPosition-1)){c.setInsertFeedback(false,d);return false}}}c.setInsertFeedback(true,d)}else{if(c){c.setInsertFeedback(false,d)}}return f}function EBLWidget_leaveDropCB(d,e,c,a,b){var f=EBLWidget_getDropInfo(b);if(f){f.setInsertFeedback(false)}}function EBLWidget_dropCB(d,e,c,a,b){newTooltipWidget().show(false);var f=EBLWidget_getDropInfo(b);if(f){f.setInsertFeedback(false)}EBLWidget_leaveDropCB(d,e,c,a,b);e.dropWidget=_dropParentWidget;e.dropIndex=_dropPosition;e.dropCB(d,e,c,a)}function newAndOrNodeWidget(d,a,b){var c=newWidget(d);c.isAnd=a;c.items=new Array;c.value=b;c.par=null;c.list=null;c.counter=0;c.operLayer=null;c.getHTML=AndOrNodeWidget_getHTML;c.getInnerHTML=AndOrNodeWidget_getInnerHTML;c.getDynamicHTML=AndOrNodeWidget_getDynamicHTML;c.addNode=AndOrNodeWidget_addNode;c.addCopyNode=AndOrNodeWidget_addCopyNode;c.addItem=AndOrNodeWidget_addItem;c.addAdvFilterItem=AndOrNodeWidget_AdvFilterItem;c.select=AndOrNodeWidget_select;c.removeChild=AndOrNodeWidget_removeChild;c.remove=AndOrNodeWidget_remove;c.isNode=AndOrNodeWidget_isNode;c.getElementByValue=AndOrNodeWidget_getElementByValue;c.setIsAnd=AndOrNodeWidget_setIsAnd;c.setInsertFeedback=AndOrNodeItem_setInsertFeedback;c.getLastItem=AndOrNodeWidget_getLastItem;c.getLength=AndOrNodeWidget_getLength;c.getParentNode=AndOrNodeWidget_getParentNode;c.getChildIndex=AndOrNodeWidget_getChildIndex;c.getIndexInParent=AndOrNodeWidget_getIndexInParent;c.getItem=AndOrNodeWidget_getItem;c.genericAdd=AndOrNodeWidget_genericAdd;c.oldAONodeInit=c.init;c.init=AndOrNodeWidget_init;c.isChildOf=AndOrNodeItem_isChildOf;c.andLabel=_lstAndLabel;c.orLabel=_lstOrLabel;return c}function AndOrNodeWidget_getParentNode(){return this.par}function AndOrNodeWidget_getLastItem(){var b=this.items,a=b.length;return a>0?b[a-1]:null}function AndOrNodeWidget_getChildIndex(d){var b=this.items,a=b.length;for(var c=0;c<a;c++){if(b[c].id==d.id){return c}}return -1}function AndOrNodeWidget_getIndexInParent(){var b=this,a=b.par;return a?a.getChildIndex(b):-1}function AndOrNodeWidget_getElementByValue(e){var f=this,a=f.items;if(f.value==e){return f}for(var b in a){var d=a[b];if(d.isNode()){var c=d.getElementByValue(e);if(c!=null){return c}}else{if(d.value==e){return d}}}return null}function AndOrNodeWidget_isNode(){return true}function AndOrNodeWidget_getItem(b){var c=this.items,a=c.length;if(b==-1){b=a-1}return((b>=0)&&(b<a))?c[b]:null}function AndOrNodeWidget_getLength(){return this.items.length}function AndOrNodeWidget_getHTML(){var a=this;return'<table id="'+a.id+'" style="border-top:'+_lstNobord+';" cellpadding="0" cellspacing="0" border="0">'+a.getInnerHTML()+"</table>"}function AndOrNodeWidget_getInnerHTML(){var h=this,d=h.items,b=d.length,c=new Array(b+2),e=0;var g=h.isAnd?h.andLabel:h.orLabel;g=elasticZone(g,_skin+"bolist.gif",3,28,h.selected?252:168,"oper_"+h.id,"treeNormal",null,0,0,'width="30" align="center"',"operTxt_"+h.id)+getSpace(40,1);c[e++]='<tbody><tr><td class="treeNormal" style="border-right:1px solid #A0A0A0;" align="center" valign="middle">'+g+'</td><td style="width:70px;padding-bottom:2px;padding-left:4px">';for(var f in d){c[e++]=d[f].getHTML()}c[e++]="</td></tr></tbody>";return c.join("")}function AndOrNodeWidget_getDynamicHTML(){var b=this;var a=_curDoc.createElement("table");a.id=b.id;a.style.borderTop=_lstNobord;a.cellPadding=0;a.cellSpacing=0;a.border=0;a.innerHTML=b.getInnerHTML();return a}function AndOrNodeWidget_init(){var f=this,c=f.items;f.oldAONodeInit();if(f.layer._counter!=null){f.counter=f.layer._counter}else{f.layer._counter=f.counter}var b=f.operLayer=getLayer("oper_"+f.id);f.operLayerTxt=getLayer("operTxt_"+f.id);b.onmousedown=AndOrNodeWidget_clickCB;b.onmouseup=AndOrNodeWidget_mouseUp;if(_ie){b.onmousemove=AndOrNodeWidget_triggerDD}b.onkeydown=AndOrNodeWidget_keyDownCB;addDblClickCB(b,AndOrNodeWidget_dblClickCB);if(f.isDisplayed!=null){f.setDisplay(f.isDisplayed)}var a=f.list.dragDrop;if(_ie&&a){var e=f.layer.childNodes[0].childNodes[0].childNodes[1];a.attachCallbacks(e);a.attachCallbacks(f.layer);f.layer.BODDType=f.par?"node":"root";e.BODDType="nodebg"}for(var d in c){c[d].init()}}function AndOrNodeWidget_clickCB(b){var c=getWidget(this),a=c.list;c.clicked=true;c.initialX=eventGetX(b);c.initialY=eventGetY(b);c.select(true);if(a.changeCB){a.changeCB()}return false}function AndOrNodeWidget_mouseUp(){var a=getWidget(this);a.clicked=false}function AndOrNodeWidget_triggerDD(c){var d=getWidget(this);if((d.clicked)&&(_curWin.event.button==_leftBtn)){if(d.initialX!=null){var b=eventGetX(c),f=eventGetY(c),a=3;if((b<(d.initialX-a))||(b>(d.initialX+a))||(f<(d.initialY-a))||(f>(d.initialY+a))){this.dragDrop();d.clicked=false}}}}function AndOrNodeWidget_keyDownCB(c){var d=getWidget(this),b=d.list;var a=eventGetKey(c);if(a==46){if(b.deleteCB){b.deleteCB()}}if(a==13){eventCancelBubble(c);if(d.selected){d.setIsAnd(!d.isAnd);if(d.list.andOrCB){d.list.andOrCB()}}else{d.select(true)}if(b.changeCB){b.changeCB()}}}function AndOrNodeWidget_dblClickCB(){var b=getWidget(this),a=b.list;b.setIsAnd(!b.isAnd);if(b.list.andOrCB){b.list.andOrCB()}return false}function AndOrNodeWidget_setIsAnd(a){var b=this;b.isAnd=a;b.operLayerTxt.innerHTML=convStr(b.isAnd?b.andLabel:b.orLabel)}function AndOrNodeWidget_select(c){var d=this,b=d.list;if(c){b.unselect()}b.selection=c?d:null;d.selected=c;if(d.layer){var a=6+(c?3:0);elasticZoneSetImg(d.operLayer,28,a,a+1,a+2);if(c&&d.operLayer.focus&&(!isHidden(d.operLayer))){d.operLayer.focus()}}}function AndOrNodeWidget_genericAdd(c,a){var f=this,e=f.list;a=arrayAdd(f,"items",c,a);var b=f.items;c.par=f;c.list=f.list;if(f.layer){var d=f.layer.childNodes[0].childNodes[0].childNodes[1];if((a==-1)||(a==(b.length-1))){append(d,c.getHTML())}else{if(_saf){d.insertBefore(c.getDynamicHTML(),d.childNodes[a])}else{insBefore(d.childNodes[a],c.getHTML())}}c.init()}e.showOrhideRoot();return c}function AndOrNodeWidget_addNode(b,d,a){var e=this;var c=e.genericAdd(newAndOrNodeWidget(e.id+"_item-"+(e.counter++),b,d),a);if(e.layer){e.layer._counter=e.counter}return c}function AndOrNodeWidget_addCopyNode(f,a){var e=this,g=e.addNode(f.isAnd,f.value,a),b=f.items;for(var c in b){var d=b[c];if(d.isNode()){g.addCopyNode(d,-1)}else{if(d.isAdvFilter){g.addAdvFilterItem(d.text,d.imgIndex,d.value,d.tooltip,-1)}else{g.addItem(d.text,d.imgIndex,d.value,d.tooltip,-1)}}}return g}function AndOrNodeWidget_addItem(h,b,e,i,f){var a=this,g=a.getLastItem();var c=a.genericAdd(newAndOrNodeItem(a.id+"_item-"+(a.counter++),h,b,e,i),f);var d=a.getLastItem();if(a.layer){if(g&&(d.id!=g.id)){g.css.borderBottom=_lstNullbord}a.layer._counter=a.counter}return c}function AndOrNodeWidget_AdvFilterItem(h,b,e,i,f){var a=this,g=a.getLastItem();var c=a.genericAdd(newAndOrFilter(a.id+"_item-"+(a.counter++),h,b,e,i),f);var d=a.getLastItem();if(a.layer){if(g&&(d.id!=g.id)){g.css.borderBottom=_lstNullbord}a.layer._counter=a.counter}return c}function AndOrNodeWidget_removeChild(g){var b=this,h=b.items,e=h.length,f=b.list;for(var d=0;d<e;d++){var k=h[d];if(k.id==g.id){var c=k.layer;if(k.selected){k.select(false)}if(c){c.parentNode.removeChild(c)}arrayRemove(b,"items",d);h=b.items;var a=Math.min(d,h.length-1);if(a>=0){h[a].select(true);var j=b.getLastItem();if(b.layer&&j){j.css.borderBottom=_lstNobord}}else{b.select(true)}f.showOrhideRoot();return true}if(k.isNode()){if(k.removeChild(g)){return true}}}return false}function AndOrNodeWidget_remove(){var d=this;if(d.par){d.par.removeChild(d)}else{var b=d.items,a=b.length;for(var c=a-1;c>=0;c--){d.removeChild(b[c])}}}function newAndOrNodeItem(f,e,a,c,b){var d=newWidget(f);d.text=e;d.value=c;d.tooltip=b?b:"";d.imgIndex=a?a:0;d.par=null;d.txtLayer=null;d.getHTML=AndOrNodeItem_getHTML;d.getDynamicHTML=AndOrNodeItem_getDynamicHTML;d.oldAOItemInit=d.init;d.init=AndOrNodeItem_init;d.select=AndOrNodeItem_select;d.isNode=AndOrNodeItem_isNode;d.getParentNode=AndOrNodeItem_getParentNode;d.getIndexInParent=AndOrNodeItem_getIndexInParent;d.remove=AndOrNodeItem_remove;d.setText=AndOrNodeItem_setText;d.setInsertFeedback=AndOrNodeItem_setInsertFeedback;d.isChildOf=AndOrNodeItem_isChildOf;d.fullW=false;return d}function AndOrNodeItem_setInsertFeedback(j,f){var c=this,i=(_dropPosition!=-1),k=c.css,g=j?"#C00000":"#FFFFFF";var d=c.isNode();if(f){k.borderTopColor=k.borderLeftColor=k.borderBottomColor=k.borderRightColor="#FFFFFF";if(d){var m=j?15:(6+(c.selected?3:0));elasticZoneSetImg(c.operLayer,28,m,m+1,m+2)}else{var m=j?12:(c.selected?3:0);elasticZoneSetImg(c.layer,28,m,m+1,m+1,m+2)}}else{var a=((c.list.layout==_vertBOList)||(c.list.layout==_andOrBOList));if(_dropParentWidget&&(_dropFeebackWidget.id==_dropParentWidget.id)){var h=c.layer.childNodes[0].childNodes[0].childNodes[1],e=h.style;e.borderLeft=j?_lstBord:_lstNullbord;h.innerHTML=j?"&nbsp;":""}else{if(i){if(a){k.borderTopColor=g}else{k.borderLeftColor=g}}else{if(a){k.borderBottomColor=g}else{k.borderRightColor=g}}if(d){var m=6+(c.selected?3:0);elasticZoneSetImg(c.operLayer,28,m,m+1,m+2)}else{var m=(c.selected?3:0);elasticZoneSetImg(c.layer,28,m,m+1,m+1,m+2)}}}}function AndOrNodeItem_getParentNode(){return this.par}function AndOrNodeItem_isNode(){return false}function AndOrNodeItem_init(){var b=this;b.oldAOItemInit();b.layer.onmousedown=AndOrNodeItem_clickCB;b.layer.onmouseup=AndOrNodeItem_mouseupCB;if(_ie){b.layer.onmousemove=AndOrNodeWidget_triggerDD}b.layer.onkeydown=AndOrNodeItem_keyDownCB;addDblClickCB(b.layer,AndOrNodeItem_dblClickCB);b.layer.title=b.tooltip;var a=b.list.dragDrop;if(_ie&&a){a.attachCallbacks(b.layer);b.layer.BODDType="item"}}function AndOrNodeItem_getHTML(){var d=this,a=d.list;var c=((a.layout==_vertBOList)||(a.layout==_andOrBOList));var e=(d.par.getLastItem().id==d.id)?c:null;var b=d.text;if(a.layout!=_andOrBOList&&!a.autofit){if(b.length>10){b=b.slice(0,10)+"..."}}return elasticZone(b,_skin+"bolist.gif",3,28,d.selected?84:0,d.id,"treeNormal",d.list.image,0,d.imgIndex*16,null,"AndOrItemTxt_"+d.id,d.fullW,c,e)}function AndOrNodeItem_getDynamicHTML(){var c=this;var b=((this.list.layout==_vertBOList)||(this.list.layout==_andOrBOList));var d=(c.par.getLastItem().id==c.id)?b:null;var a=c.text;if(this.list.layout!=_andOrBOList){if(a.length>10){a=a.slice(0,10)+"..."}}return dynamicElasticZone(a,_skin+"bolist.gif",3,28,c.selected?84:0,c.id,"treeNormal",c.list.image,0,c.imgIndex*16,null,"AndOrItemTxt_"+c.id,c.fullW,b,d)}function AndOrNodeItem_clickCB(b){var c=getWidget(this),a=c.list;c.select(true);c.clicked=true;c.initialX=eventGetX(b);c.initialY=eventGetY(b);if(a.changeCB){a.changeCB()}return false}function AndOrNodeItem_mouseupCB(){var a=getWidget(this);a.clicked=false}function AndOrNodeItem_keyDownCB(c){var d=getWidget(this),b=d.list;var a=eventGetKey(c);if(a==46){if(b.deleteCB){b.deleteCB()}}if(a==13){eventCancelBubble(c);d.select(true);if(b.changeCB){b.changeCB()}}}function AndOrNodeItem_dblClickCB(){var b=getWidget(this),a=b.list;if(a.dblClickCB){a.dblClickCB()}return false}function AndOrNodeItem_select(c){var d=this,b=d.list;if(c){b.unselect()}b.selection=c?d:null;d.selected=c;if(d.layer){var a=c?3:0;elasticZoneSetImg(d.layer,28,a,a+1,a+1,a+2);if(c){d.layer.title=_lstSelectedLabel+" "+d.tooltip}else{d.layer.title=d.tooltip}if(c&&d.layer.focus&&(!isHidden(d.layer))){d.layer.focus()}}}function AndOrNodeItem_remove(){var a=this;if(a.par){a.par.removeChild(a)}}function AndOrNodeItem_getIndexInParent(){var b=this,a=b.par;return a?a.getChildIndex(b):-1}function AndOrNodeItem_setText(b){var a=this;if(a.txtLayer==null){a.txtLayer=getLayer("AndOrItemTxt_"+a.id)}a.text=b;a.txtLayer.innerHTML=convStr(a.text,true);a.tooltip=b;a.layer.title=a.tooltip}function AndOrNodeItem_isChildOf(a){var b=this.par;if(b==null){return false}if(b.id==a.id){return true}else{return b.isChildOf(a)}}function elasticZoneInner(m,f,j,r,i,p,b,t,o,n,q,g,a,d,k,c,e){var s="";if(e){s="<table "+attr("id",g)+' class="'+b+'" cellpadding="0" cellspacing="0" border="0"><tr valign="middle"><td>'+e+"</td></tr></table>"}else{s="<nobr "+attr("id",g)+' class="'+b+'">'+convStr(m,true)+"</nobr>"}return'<tbody><tr valign="middle"><td width="'+j+'">'+imgOffset(f,j,r,0,i)+"</td>"+(t?('<td style="padding-left:2px;'+backImgOffset(f,0,i+r)+'">'+imgOffset(t,16,16,o,n)+"</td>"):"")+"<td "+(q?q:"")+"  "+(a?'width="100%"':"")+' style="padding-left:2px;padding-right:'+(t?8:4)+"px;"+backImgOffset(f,0,i+r)+'">'+s+'</td><td width="'+j+'">'+imgOffset(f,j,r,0,i+(2*r))+"</td></tr></tbody>"}function elasticZone(m,f,j,t,i,q,b,u,p,o,r,g,a,d,k,c,e){var n="";if(d!=null){n+=(d?"border-top:":"border-left:")+_lstNobord+";"}if(k!=null){n+=(k?"border-bottom:":"border-right:")+_lstNobord+";"}c=c?c:_hand;return"<table "+attr("id",q)+' boelastic="1" tabIndex="0" '+(a?'width="100%"':"")+' cellpadding="0" cellspacing="0" border="0"  style="'+n+"cursor:"+c+'" height="'+t+'">'+elasticZoneInner(m,f,j,t,i,q,b,u,p,o,r,g,a,d,k,c,e)+"</table>"}function dynamicElasticZone(n,g,k,s,j,q,b,t,p,o,r,i,a,d,m,c,f){c=c?c:_hand;var e=_curDoc.createElement("table");if(d!=null){if(d){e.style.borderTop=_lstNobord}else{e.style.borderLeft=_lstNobord}}if(m!=null){if(m){e.style.borderBottom=_lstNobord}else{e.style.borderRight=_lstNobord}}e.id=q;e.setAttribute("boelastic","1");e.tabIndex=0;if(a){e.width="100%"}e.cellPadding=0;e.cellSpacing=0;e.border=0;e.style.cursor=c;e.height=s;e.innerHTML=elasticZoneInner(n,g,k,s,j,q,b,t,p,o,r,i,a,d,m,c,f);return e}function elasticZoneSetImg(lyr,h,dy1,dy2,dy3,dy4){if(lyr&&(lyr.getAttribute("boelastic")!=null)){var c=lyr.childNodes[0].childNodes[0].childNodes,j=1,len=c.length;for(var i=0;i<len;i++){var ce=c[i];if(ce.tagName!=null){changeOffset(((j==1||j==(len))?ce.childNodes[0]:ce),0,h*eval("dy"+(j++)))}}}}function newAndOrFilter(f,e,a,c,b){var d=newWidget(f);d.text=e;d.isAdvFilter=true;d.value=c;d.tooltip=b?b:"";d.imgIndex=a?a:0;d.par=null;d.txtLayer=null;d.operatorCombo=newCustomCombo("AndOrFilterOperator_"+f,operator_changeCB,true,null);d.operatorCombo.par=d;AndOrFilter_initOpCombo(d.operatorCombo);d.defZone=newAdvFilterDef("AndOrFilterDefinition_"+f);d.defZone2=newAdvFilterDef("AndOrFilterDefinition2_"+f);d.defZone.par=d;d.defZone2.par=d;d.getHTML=AndOrFilter_getHTML;d.getExtraHTML=AndOrFilter_getExtraHTML;d.getDynamicHTML=AndOrFilter_getDynamicHTML;d.oldAOItemInit=d.init;d.init=AndOrFilter_init;d.select=AndOrFilter_select;d.isNode=AndOrFilter_isNode;d.getParentNode=AndOrFilter_getParentNode;d.getIndexInParent=AndOrFilter_getIndexInParent;d.remove=AndOrFilter_remove;d.setText=AndOrFilter_setText;d.setInsertFeedback=AndOrFilter_setInsertFeedback;d.isChildOf=AndOrFilter_isChildOf;d.getDefinition=AndOrFilter_getDefinition;d.fullW=false;return d}function AndOrFilter_setInsertFeedback(j,f){var c=this,i=(_dropPosition!=-1),k=c.css,g=j?"#C00000":"#FFFFFF";var d=c.isNode();if(f){k.borderTopColor=k.borderLeftColor=k.borderBottomColor=k.borderRightColor="#FFFFFF";if(d){var m=j?15:(6+(c.selected?3:0));elasticZoneSetImg(c.operLayer,28,m,m+1,m+2)}else{var m=j?12:(c.selected?3:0);elasticZoneSetImg(c.layer,28,m,m+1,m+1,m+2)}}else{var a=((c.list.layout==_vertBOList)||(c.list.layout==_andOrBOList));if(_dropParentWidget&&(_dropFeebackWidget.id==_dropParentWidget.id)){var h=c.layer.childNodes[0].childNodes[0].childNodes[1],e=h.style;e.borderLeft=j?_lstBord:_lstNullbord;h.innerHTML=j?"&nbsp;":""}else{if(i){if(a){k.borderTopColor=g}else{k.borderLeftColor=g}}else{if(a){k.borderBottomColor=g}else{k.borderRightColor=g}}if(d){var m=6+(c.selected?3:0);elasticZoneSetImg(c.operLayer,28,m,m+1,m+2)}else{var m=(c.selected?3:0);elasticZoneSetImg(c.layer,28,m,m+1,m+1,m+2)}}}}function AndOrFilter_getParentNode(){return this.par}function AndOrFilter_isNode(){return false}function AndOrFilter_init(){var b=this;b.oldAOItemInit();b.operatorCombo.init();b.defZone.init();b.defZone2.init();b.defZone2.setDisplay(false);b.layer.onmousedown=AndOrFilter_clickCB;b.layer.onmouseup=AndOrFilter_mouseupCB;if(_ie){b.layer.onmousemove=AndOrNodeWidget_triggerDD}b.layer.onkeydown=AndOrFilter_keyDownCB;addDblClickCB(b.layer,AndOrFilter_dblClickCB);b.layer.title=b.tooltip;var a=b.list.dragDrop;if(_ie&&a){a.attachCallbacks(b.layer);b.layer.BODDType="item"}}function AndOrFilter_getExtraHTML(){var b=this,a="";a+='<table class="treeNormal" border="0" cellspacing="0" cellpadding="0"><tr valign="middle"><td>';a+=b.text+"</td><td>";a+=b.operatorCombo.getHTML();a+="</td><td>";a+=b.defZone.getHTML();a+="</td><td>";a+=b.defZone2.getHTML();a+="</td></tr></table>";return a}function AndOrFilter_getHTML(){var d=this,a=d.list;var c=((a.layout==_vertBOList)||(a.layout==_andOrBOList));var e=(d.par.getLastItem().id==d.id)?c:null;var b=d.text;if(a.layout!=_andOrBOList&&!a.autofit){if(b.length>10){b=b.slice(0,10)+"..."}}return elasticZone(b,_skin+"bolist.gif",3,28,d.selected?84:0,d.id,"treeNormal",d.list.image,0,d.imgIndex*16,null,"AndOrFilterTxt_"+d.id,d.fullW,c,e,null,d.getExtraHTML())}function AndOrFilter_getDynamicHTML(){var c=this;var b=((this.list.layout==_vertBOList)||(this.list.layout==_andOrBOList));var d=(c.par.getLastItem().id==c.id)?b:null;var a=c.text;if(this.list.layout!=_andOrBOList){if(a.length>10){a=a.slice(0,10)+"..."}}return dynamicElasticZone(a,_skin+"bolist.gif",3,28,c.selected?84:0,c.id,"treeNormal",c.list.image,0,c.imgIndex*16,null,"AndOrFilterTxt_"+c.id,c.fullW,b,d,null,c.getExtraHTML())}function AndOrFilter_clickCB(b){var c=getWidget(this),a=c.list;c.select(true);c.clicked=true;c.initialX=eventGetX(b);c.initialY=eventGetY(b);if(a.changeCB){a.changeCB()}return false}function AndOrFilter_mouseupCB(){var a=getWidget(this);a.clicked=false}function AndOrFilter_keyDownCB(c){var d=getWidget(this),b=d.list;var a=eventGetKey(c);if(a==46){if(b.deleteCB){b.deleteCB()}}if(a==13){eventCancelBubble(c);d.select(true);if(b.changeCB){b.changeCB()}}}function AndOrFilter_dblClickCB(){var b=getWidget(this),a=b.list;if(a.dblClickCB){a.dblClickCB()}return false}function AndOrFilter_select(c){var d=this,b=d.list;if(c){b.unselect()}b.selection=c?d:null;d.selected=c;if(d.layer){var a=c?3:0;elasticZoneSetImg(d.layer,28,a,a+1,a+1,a+2);if(c){d.layer.title=_lstSelectedLabel+" "+d.tooltip}else{d.layer.title=d.tooltip}if(c&&d.layer.focus&&(!isHidden(d.layer))){d.layer.focus()}}}function AndOrFilter_remove(){var a=this;if(a.par){a.par.removeChild(a)}}function AndOrFilter_getIndexInParent(){var b=this,a=b.par;return a?a.getChildIndex(b):-1}function AndOrFilter_setText(b){var a=this;if(a.txtLayer==null){a.txtLayer=getLayer("AndOrFilterTxt_"+a.id)}a.text=b;a.txtLayer.innerHTML=convStr(a.text,true);a.tooltip=b;a.layer.title=a.tooltip}function AndOrFilter_isChildOf(a){var b=this.par;if(b==null){return false}if(b.id==a.id){return true}else{return b.isChildOf(a)}}function AndOrFilter_getDefinition(){return this.defZone}function AndOrFilter_initOpCombo(a){a.icon.setClasses("iconnochecknobg","iconchecknobg","iconhovernobg","iconcheckhovernobg");a.arrow.setClasses("iconnochecknobg","iconchecknobg","iconhovernobg","iconcheckhovernobg");a.arrow.overCB="IconWidget_overCB";a.arrow.outCB="IconWidget_outCB";a.icon.overCB="IconWidget_overCB";a.icon.outCB="IconWidget_outCB";a.icon.width=null;a.add("EQUAL","EQUAL");a.add("NOT_EQUAL","NOT_EQUAL");a.add("GREATER","GREATER");a.add("GREATER_OR_EQUAL","GREATER_OR_EQUAL");a.add("LESS","LESS");a.add("LESS_OR_EQUAL","LESS_OR_EQUAL");a.add("BETWEEN","BETWEEN");a.add("NOT_BETWEEN","NOT_BETWEEN");a.add("IN_LIST","IN_LIST",true);a.add("NOT_IN_LIST","NOT_IN_LIST");a.add("IS_NULL","IS_NULL");a.add("NOT_IS_NULL","NOT_IS_NULL");a.add("LIKE","LIKE");a.add("NOT_LIKE","NOT_LIKE");a.add("BOTH","BOTH");a.add("EXCEPT","EXCEPT")}function operator_changeCB(){var c=this,b=c.getSelection();var a=c.par;if(b&&a){switch(b.value){case"BETWEEN":case"NOT_BETWEEN":case"BOTH":a.defZone2.setDisplay(true);break;case"IS_NULL":case"NOT_IS_NULL":a.defZone.setDisplay(false);a.defZone2.setDisplay(false);break;default:a.defZone.setDisplay(true);a.defZone2.setDisplay(false);break}}}_filterDefConst=1;_filterDefFromList=2;_filterDefPrompt=3;_filterDefObj=4;function newAdvFilterDef(c){var b=newWidget(c);b.type=_filterDefPrompt;b.obj=null;b.input="prompt by default ?";b.objLabel=newWidget(c+"_objlabel");b.inputTxt=newTextFieldWidget(c+"_input",null,null,null,null);b.propertyIcn=newIconWidget(c+"_property",_skin+"promptProp.gif",clickPropCB,null,null,16,16,0,0);b.typeIcn=newIconWidget(c+"_type",_skin+"filterType.gif",clickTypeCB,null,null,16,16,0,0);b.propertyIcn.setClasses("iconnochecknobg","iconchecknobg","iconhovernobg","iconcheckhovernobg");b.typeIcn.setClasses("iconnochecknobg","iconchecknobg","iconhovernobg","iconcheckhovernobg");var a=b.typeMenu=newMenuWidget(c+"_type_menu");a.addCheck("advf_constant","Constant",changeFTypeCB);a.addCheck("advf_fromList","From List",changeFTypeCB);a.addCheck("advf_prompt","Prompt",changeFTypeCB);a.addCheck("advf_object","Object",changeFTypeCB);b.inputTxt.afPar=b;b.propertyIcn.afPar=b;b.typeIcn.afPar=b;b.typeMenu.afPar=b;b.oldInit=b.init;b.init=AdvFilterDef_init;b.getHTML=AdvFilterDef_getHTML;b.updateUI=AdvFilterDef_updateUI;return b}function AdvFilterDef_getHTML(){var a=this;return('<table id="'+a.id+'" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td id="'+a.id+'_objlabel"><table class="treeNormal" border="0" cellspacing="0" cellpadding="0"><tr><td>'+imgOffset(_skin+"qualification.gif",16,16,0,0)+"</td><td><nobr>my object</nobr></td></tr></table></td><td>"+a.inputTxt.getHTML()+"</td><td>"+a.propertyIcn.getHTML()+"</td><td>"+a.typeIcn.getHTML()+"</td></tr></tbody></table>")}function AdvFilterDef_init(){var a=this;a.oldInit();a.objLabel.init();a.inputTxt.init();a.propertyIcn.init();a.typeIcn.init();a.updateUI()}function changeFTypeCB(){var f=this.id;var e=this.par,a=e.items;var d=e.afPar;for(var b in a){var c=a[b];c.check(c.id==f)}switch(f){case"advf_constant":d.type=_filterDefConst;break;case"advf_fromList":d.type=_filterDefFromList;alert("lov dialog");break;case"advf_prompt":d.type=_filterDefPrompt;break;case"advf_object":d.type=_filterDefObj;alert("universe dimensions dialog");break}d.updateUI()}function AdvFilterDef_updateUI(){var a=this;switch(a.type){case _filterDefConst:a.objLabel.setDisplay(false);a.inputTxt.setDisplay(true);a.inputTxt.setValue("");a.propertyIcn.setDisplay(false);a.typeMenu.getItemByID("advf_constant").check(true);break;case _filterDefFromList:a.objLabel.setDisplay(false);a.inputTxt.setDisplay(true);a.inputTxt.setValue("");a.propertyIcn.setDisplay(false);a.typeMenu.getItemByID("advf_fromList").check(true);break;case _filterDefPrompt:a.objLabel.setDisplay(false);a.inputTxt.setDisplay(true);a.inputTxt.setValue(a.input);a.propertyIcn.setDisplay(true);a.typeMenu.getItemByID("advf_prompt").check(true);break;case _filterDefObj:a.objLabel.setDisplay(true);a.inputTxt.setDisplay(false);a.propertyIcn.setDisplay(false);a.typeMenu.getItemByID("advf_object").check(true);break}}function clickPropCB(){alert("prompt property dialog")}function clickTypeCB(){var d=this.afPar,b=this,a=b.layer,c=d.typeMenu;c.show(true,getPosScrolled(a).x+(c.alignLeft?b.getWidth():0),getPosScrolled(a).y+b.getHeight()+1);IconWidget_overCB(b.index)};