_boAllTabs=new Array;function newTabWidget(b,j,a,e,m,k,c,l,i,h,f,g){var d=newWidget(b);d.isTop=j;d.isSelected=false;d.lnkLayer=null;d.leftImgLayer=null;d.rightImgLayer=null;d.midImgLayer=null;d.imgImgLayer=null;d.iconLayer=null;d.tabBar=null;d.getHTML=TabWidget_getHTML;d.select=TabWidget_select;d.change=TabWidget_change;d.changeContent=TabWidget_changeContent;d.change(a,e,m,k,c,l,i,h,f,g);_boAllTabs[b]=d;return d}function TabWidget_getHTML(){var a=this;var f=a.isSelected?0:72;if(!a.isTop){f+=144}var i="thumbtxt"+(a.isSelected?"sel":"");var c=_codeWinName+".TabWidget_clickCB('"+a.id+"');return false";var d=_codeWinName+".TabWidget_dblclickCB('"+a.id+"');return false";var h=_codeWinName+".TabWidget_keyDownCB('"+a.id+"',event);";var b=_codeWinName+".TabWidget_contextMenuCB('"+a.id+"',event);return false";var g=a.icon?a.icon:_skin+"../transp.gif";var e=a.icon?3:0;return'<table onmouseover="return true" onclick="'+c+'" id="'+this.id+'" ondblclick="'+d+'" onkeydown="'+h+'" oncontextmenu="'+b+'" id="'+this.id+'" style="cursor:'+_hand+'" cellspacing="0" cellpadding="0" border="0"><tbody><tr valign="middle" height="24"><td width="15">'+imgOffset(_skin+"tabs.gif",15,24,0,f,"tabWidgetLeft_"+a.id)+'</td><td id="tabWidgetImg_'+a.id+'" style="'+(a.isTop?"padding-top:2px;":"padding-bottom:2px;")+" padding-right:"+e+"px; "+backImgOffset(_skin+"tabs.gif",0,f+24)+'" width="'+(a.iconW+e)+'" align="left">'+imgOffset(g,a.iconW,a.iconH,a.iconOffX,a.iconOffY,"tabWidgetIcon_"+a.id,null,a.iconAlt)+'</td><td  width="50" id="tabWidgetMid_'+a.id+'" style="'+(a.isTop?"padding-top:3px;":"padding-bottom:3px;")+backImgOffset(_skin+"tabs.gif",0,f+24)+'"><span style="white-space:nowrap">'+lnk(convStr(a.name,true),null,i,"tabWidgetLnk_"+a.id)+'</span></td><td width="15">'+imgOffset(_skin+"tabs.gif",15,24,0,f+48,"tabWidgetRight_"+a.id)+"</td></tr></tbody></table>"}function TabWidget_clickCB(a){setTimeout("TabWidget_delayedClickCB('"+a+"')",1)}function TabWidget_dblclickCB(a){setTimeout("TabWidget_delayedDblClickCB('"+a+"')",1)}function TabWidget_keyDownCB(c,b){var a=eventGetKey(b);if(eventGetKey(b)==13){eventCancelBubble(b)}}function TabWidget_contextMenuCB(d,c){if(_ie){c=_curWin.event}var b=_boAllTabs[d],a=b.tabBar;if((b)&&(b.cb)){b.cb()}if((a)&&(a.showMenu)){a.showMenu(c)}}function TabWidget_delayedClickCB(b){var a=_boAllTabs[b];if((a)&&(a.cb)){a.cb()}}function TabWidget_delayedDblClickCB(b){var a=_boAllTabs[b];if((a)&&(a.dblclick)){a.dblclick()}}function TabWidget_changeContent(b){var c=this;if(c.lnkLayer==null){c.lnkLayer=getLayer("tabWidgetLnk_"+c.id);c.leftImgLayer=getLayer("tabWidgetLeft_"+c.id);c.rightImgLayer=getLayer("tabWidgetRight_"+c.id);c.midImgLayer=getLayer("tabWidgetMid_"+c.id);c.imgImgLayer=getLayer("tabWidgetImg_"+c.id);c.iconLayer=getLayer("tabWidgetIcon_"+c.id)}if(!b){c.lnkLayer.innerHTML=convStr(c.name,true);changeOffset(c.iconLayer,c.iconOffX,c.iconOffY,c.icon?c.icon:_skin+"../transp.gif");c.iconLayer.alt=c.iconAlt;c.iconLayer.style.width=""+c.iconW+"px";c.iconLayer.style.height=""+c.iconH+"px";var e=c.icon?3:0,a=c.imgImgLayer;a.style.paddingRight=""+e+"px";a.style.width=""+(e+(((c.icon!=null)&&(c.iconW!=null))?c.iconW:0))+"px";if(_moz&&!_saf){a.width=(e+(((c.icon!=null)&&(c.iconW!=null))?c.iconW:0))}}var d=c.isSelected?0:72;if(!c.isTop){d+=144}changeOffset(c.leftImgLayer,0,d);changeOffset(c.midImgLayer,0,d+24);changeOffset(c.imgImgLayer,0,d+24);changeOffset(c.rightImgLayer,0,d+48);c.lnkLayer.className="thumbtxt"+(c.isSelected?"sel":"")}function TabWidget_select(a){var b=this;b.isSelected=a;if(b.layer!=null){b.changeContent(true)}}function TabWidget_change(a,d,k,i,b,j,h,g,e,f){var c=this;if(a!=null){c.name=a}if(d!=null){c.cb=d}if(e!=null){c.dblclick=e}if(k!=null){c.value=k}if(i!=null){c.icon=i}c.iconW=b?b:0;c.iconH=j?j:0;c.iconOffX=h?h:0;c.iconOffY=g?g:0;if(f!=null){c.iconAlt=f}if(c.layer!=null){c.changeContent(false)}}function newTabBarWidget(a,f,d,i,e,g,b){var c=newWidget(a);var h;c.isTop=f;c.cb=d;c.dblclick=e;c.menu=newMenuWidget("menu_"+a,null,g);c.st=i;c.counter=0;c.items=new Array;c.selIndex=-1;c.leftLimit=0;c.trLayer=null;c.showIcn=b==null?false:b;h=c.firstIcn=newIconWidget("firstIcn_"+a,_skin+"scroll_icon.gif",TabBarWidget_firstCB,null,_scroll_first_tab,5,8,0,0,0,8);h.par=c;h.margin=0;h.allowDblClick=true;h=c.previousIcn=newIconWidget("previousIcn_"+a,_skin+"scroll_icon.gif",TabBarWidget_prevCB,null,_scroll_previous_tab,5,8,7,0,7,8);h.par=c;h.margin=0;h.allowDblClick=true;h=c.nextIcn=newIconWidget("nextIcn_"+a,_skin+"scroll_icon.gif",TabBarWidget_nextCB,null,_scroll_next_tab,5,8,13,0,13,8);h.par=c;h.margin=0;h.allowDblClick=true;h=c.lastIcn=newIconWidget("lastIcn_"+a,_skin+"scroll_icon.gif",TabBarWidget_lastCB,null,_scroll_last_tab,5,8,21,0,21,8);h.par=c;h.margin=0;h.allowDblClick=true;c.showContextMenuAllowed=true;c.oldInit=c.init;c.init=TabBarWidget_init;c.getHTML=TabBarWidget_getHTML;c.add=TabBarWidget_add;c.remove=TabBarWidget_remove;c.removeAll=TabBarWidget_removeAll;c.select=TabBarWidget_select;c.getSelection=TabBarWidget_getSelection;c.getMenu=TabBarWidget_getMenu;c.showMenu=TabBarWidget_showMenu;c.showTab=TabBarWidget_showTab;c.getCount=TabBarWidget_getCount;c.oldResize=c.resize;c.resize=TabBarWidget_resize;c.getItemXPos=TabBarWidget_getItemXPos;c.scroll=TabBarWidget_scroll;c.setIconState=TabBarWidget_setIconState;c.setShowContextMenuAllowed=TabBarWidget_setShowContextMenuAllowed;return c}function TabBarWidget_init(){var d=this,a=d.items;d.oldInit();if(d.showIcn){d.firstIcn.init();d.previousIcn.init();d.nextIcn.init();d.lastIcn.init()}d.trLayer=getLayer("tr_"+d.id);d.tabsLayer=getLayer("tabs_"+d.id);for(var b in a){var c=a[b];c.init();c.select(b==d.selIndex)}}function TabBarWidget_getSelection(){var c=this,a=c.selIndex;if(a>=0){var b=new Object;b.index=a;b.valueOf=c.items[a].value;b.name=c.items[a].name;return b}else{return null}}function TabBarWidget_getHTML(){var e=this,b=e.items,a=b.length;var d='<div id="'+this.id+'" style="height:24px;overflow:hidden;'+(e.st?e.st:"")+'">';d+='<table cellspacing="0" cellpadding="0" border="0"><tbody><tr valign="top" height="24">';if(e.showIcn){d+='<td><table class="palette" cellspacing="0" cellpadding="0" border="0"><tbody><tr>';d+="<td>"+e.firstIcn.getHTML()+"</td>";d+="<td>"+e.previousIcn.getHTML()+"</td>";d+="<td>"+e.nextIcn.getHTML()+"</td>";d+="<td>"+e.lastIcn.getHTML()+"</td>";d+="</tr></tbody></table></td>"}d+='<td><div style="overflow:'+(true?"hidden":"scroll")+'" id="tabs_'+this.id+'"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr id="tr_'+this.id+'">';for(var c in b){d+="<td>"+b[c].getHTML()+"</td>"}d+="</tr></tbody></table></div></td>";d+="</tr></tbody></table></div>";return d}function TabBarWidget_select(c){var d=this,b=d.items,a=b.length;if(c==-1){c=a-1}if((c>=0)&&(c<a)){if((d.selIndex>=0)&&(d.selIndex!=c)&&(d.selIndex<a)){b[d.selIndex].select(false)}d.selIndex=c;b[c].select(true);d.scroll(d.selIndex)}}function TabBarWidget_resize(a,b){var e=this;var c=isHidden(e.layer);if(c&_moz&&!_saf){e.setDisplay(false)}e.oldResize(a,b);if(a!=null){e.tabsLayer.style.width=""+Math.max(0,a-54)}if(c&_moz&&!_saf){e.setDisplay(true)}e.setIconState()}function TabBarWidget_showTab(d,b){var e=this,c=e.items,a=c.length;if((d>=0)||(d<a)){c[d].setDisplay(b)}}function TabBarWidget_add(b,n,p,k,c,m,j,i,h){var d=this,a=d.counter++;var g=newTabWidget(d.id+"_tab"+a,d.isTop,b,TabBarWidget_itemClick,n,k,c,m,j,i,TabBarWidget_itemDblClick,h);g.tabBar=d;g.idx=a;arrayAdd(d,"items",g,p);var f=d.trLayer;if(f!=null){var e=document.createElement("td");e.innerHTML=g.getHTML();f.appendChild(e);g.init()}return g}function TabBarWidget_remove(b){var f=this,d=f.items,a=d.length;if((b>=0)&&(b<a)){var e=d[b];var c=e.layer;arrayRemove(f,"items",b);d=f.items;a=d.length;if(c!=null){c=c.parentNode;c.parentNode.removeChild(c)}if(f.selIndex>b){f.select(f.selIndex-1)}else{if((f.selIndex==b)&&(a>0)){f.select(Math.min(b,a-1))}}}}function TabBarWidget_removeAll(){var d=this,b=d.items,a=b.length;for(var c=a-1;c>=0;c--){d.remove(c)}}function TabBarWidget_itemClick(){var e=this.tabBar,b=e.items,a=b.length,c=-1;for(var d=0;d<a;d++){if(b[d].idx==this.idx){e.select(d);c=d;break}}if(e.cb){e.cb(c)}}function TabBarWidget_itemDblClick(){var e=this.tabBar,b=e.items,a=b.length,c=-1;for(var d=0;d<a;d++){if(b[d].idx==this.idx){c=d;break}}if(e.dblclick){e.dblclick(c)}}function TabBarWidget_getMenu(){return this.menu}function TabBarWidget_setShowContextMenuAllowed(a){this.showContextMenuAllowed=a}function TabBarWidget_showMenu(a){if(this.showContextMenuAllowed==false){return}if(_ie){a=event}this.menu.show(true,eventGetX(a),eventGetY(a))}function TabBarWidget_getCount(){return this.items.length}function TabBarWidget_scroll(b,e){var a=this;if(a.tabsLayer==null){return}var c=a.tabsLayer;var f=c.scrollLeft,d=c.offsetWidth,k=c.scrollWidth,h=k-d;if(b=="first"){c.scrollLeft=f=0;a.leftLimit=0}if(b=="previous"){a.leftLimit=a.leftLimit-1;var j=a.getItemXPos(a.leftLimit);c.scrollLeft=f=j}if(b=="next"){if(a.leftLimit>a.getCount()-1){return}a.leftLimit+=1;var j=a.getItemXPos(a.leftLimit);if(j<h){c.scrollLeft=f=j}else{c.scrollLeft=f=h}}if(b=="last"){for(var g=0;g<a.getCount();g++){var j=a.getItemXPos(g);if(j>h){break}}c.scrollLeft=f=Math.max(0,h);a.leftLimit=g}if(b==null){var j=getItemXPos(e);if(j<h){c.scrollLeft=f=j}else{c.scrollLeft=f=h}for(var g=0;g<a.getCount();g++){var j=a.getItemXPos(g);if(j>h){break}}a.leftLimit=g}a.setIconState()}function TabBarWidget_getItemXPos(b){var d=this;var a=0;for(var c=0;c<b;c++){a+=parseInt(d.items[c].getWidth())}return a}function TabBarWidget_setIconState(){var f=this;if(f.tabsLayer==null){return}var d=f.tabsLayer;var b=d.scrollLeft,e=d.offsetWidth,a=d.scrollWidth,c=a-e;if(b==c){f.nextIcn.setDisabled(true);f.lastIcn.setDisabled(true)}else{f.nextIcn.setDisabled(false);f.lastIcn.setDisabled(false)}if(b==0){f.firstIcn.setDisabled(true);f.previousIcn.setDisabled(true)}else{f.firstIcn.setDisabled(false);f.previousIcn.setDisabled(false)}}function TabBarWidget_firstCB(){var a=this.par;a.scroll("first")}function TabBarWidget_prevCB(){var a=this.par;a.scroll("previous")}function TabBarWidget_nextCB(){var a=this.par;a.scroll("next")}function TabBarWidget_lastCB(){var a=this.par;a.scroll("last")}function newTabbedZone(e,a,b,c){var d=newFrameZoneWidget(e,b,c);d.w=b;d.h=c;d.cb=a;d.zoneLayers=new Array;d.oldIndex=-1;d.tzOldInit=d.init;d.add=TabbedZoneWidget_add;d.select=TabbedZoneWidget_select;d.getTabCSS=TabbedZoneWidget_getTabCSS;d.init=TabbedZoneWidget_init;d.beginHTML=TabbedZoneWidget_beginHTML;d.oldFrameZoneEndHTML=d.endHTML;d.endHTML=TabbedZoneWidget_endHTML;d.tabs=newTabBarWidget("tzone_tabs_"+e,true,TabbedZone_itemClick);d.tabs.parentTabbedZone=d;d.beginTabHTML=TabbedZoneWidget_beginTabHTML;d.endTabHTML=TabbedZoneWidget_endTabHTML;d.beginTab=TabbedZoneWidget_beginTab;d.endTab=TabbedZoneWidget_endTab;d.showTab=TabbedZoneWidget_showTab;d.tzOldResize=d.resize;d.resize=TabbedZoneWidget_resize;return d}function TabbedZone_itemClick(){var b=this.parentTabbedZone,a=this.getSelection().index;b.select(a);if(b.cb){b.cb(a)}}function TabbedZoneWidget_add(b,e,c,h,a,f,d){var g=this;g.tabs.add(b,e,-1,c,h,a,f,d);g.zoneLayers[g.zoneLayers.length]=null}function TabbedZoneWidget_init(){var a=this;a.tzOldInit();a.tabs.init();a.select(0)}function TabbedZoneWidget_getTabCSS(c){var d=this,b=d.zoneLayers,a=b[c];if(a==null){a=b[c]=getLayer("tzone_tab_"+c+"_"+d.id)}return a?a.style:null}function TabbedZoneWidget_showTab(b,a){var c=this.tabs.items[b];if(c){c.setDisplay(a)}}function TabbedZoneWidget_select(b){var g=this,e=g.tabs,f=e.getSelection(),j=g.oldIndex,h;g.tabs.select(b);if(j!=-1){h=g.getTabCSS(j);if(h){h.display="none"}}else{var a=g.zoneLayers.length;for(var d=0;d<a;d++){h=g.getTabCSS(d);if(h){h.display="none"}}}g.oldIndex=b;h=g.getTabCSS(b);if(h){h.display="";g.resize(g.w,g.h)}}function TabbedZoneWidget_beginHTML(){var a=this;return'<table id="'+this.id+'" cellspacing="0" cellpadding="0" border="0"><tbody><tr valign="bottom" height="28"><td>'+imgOffset(_skin+"dialogframe.gif",5,5,0,0)+'</td><td valign="top" align="left" style="'+backImgOffset(_skin+"tabs.gif",0,288)+'">'+a.tabs.getHTML()+"</td><td>"+imgOffset(_skin+"dialogframe.gif",5,5,5,0)+'</td></tr><tr><td style="'+backImgOffset(_skin+"dialogframeleftright.gif",0,0)+'"></td><td class="dialogzone"><div id="'+a.id+'_container" style="'+sty("width",a.w)+sty("height",a.h)+'">'}function TabbedZoneWidget_endHTML(){return"</div>"+this.oldFrameZoneEndHTML()}function TabbedZoneWidget_beginTabHTML(a){var b=this;return'<div id="tzone_tab_'+a+"_"+b.id+'" style="display:none;'+sty("width",b.w)+sty("height",b.h)+'">'}function TabbedZoneWidget_endTabHTML(){return"</div>"}function TabbedZoneWidget_beginTab(a){_curDoc.write(this.beginTabHTML(a))}function TabbedZoneWidget_endTab(){_curDoc.write(this.endTabHTML())}function TabbedZoneWidget_resize(b,d){var e=this;if(b!=null){e.w=b;b=b+10}if(d!=null){e.h=d;d=d+33}e.tzOldResize(b,d);var a=getLayer(e.id+"_container");if(a){a.style.width=e.w+"px";a.style.height=e.h+"px"}if(e.oldIndex!=null){var c=getLayer("tzone_tab_"+e.oldIndex+"_"+e.id);if(c){c.style.width=e.w+"px";c.style.height=e.h+"px"}}};