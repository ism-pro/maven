function newWaitDialogBoxWidget(b,k,g,i,d,j,m,l){var e=250;var n=150;if(k<e){k=e}if(g<n){g=n}var c=newDialogBoxWidget(b,i,k,g,null,WaitDialogBoxWidget_cancelCB,false);c.pad=5;var f=c.getContainerWidth()-10;var a=c.getContainerHeight()-(2*c.pad+21+10);c.frZone=newFrameZoneWidget(b+"_frZone",f,a);c.frZone.beginHTML=WaitDialog_FrameZoneWidget_beginHTML;c.frZone.endHTML=WaitDialog_FrameZoneWidget_endHTML;c.showLabel=(m!=null)?m:false;c.showCancel=(d!=null)?d:false;c.label=newWidget(b+"_label");c.label.text=l;if(c.showCancel){c.cancelButton=newButtonWidget(b+"_cancelButton",_cancelButtonLab,CancelButton_cancelCB);c.cancelButton.par=c}else{c.cancelButton={};c.cancelButton.init=function(){};c.cancelButton.setDisplay=function(h){};c.cancelButton.setDisabled=function(h){};c.cancelButton.getHTML=function(){return""}}c.cancelCB=j;c.oldDialogBoxInit=c.init;c.init=WaitDialogBoxWidget_init;c.oldShow2=c.show;c.show=WaitDialogBoxWidget_show;c.getHTML=WaitDialogBoxWidget_getHTML;c.setShowCancel=WaitDialogBoxWidget_setShowCancel;c.setShowLabel=WaitDialogBoxWidget_setShowLabel;return c}function WaitDialogBoxWidget_init(){var a=this;a.oldDialogBoxInit();a.frZone.init();a.label.init();a.label.setDisplay(a.showLabel);a.cancelButton.init();a.cancelButton.setDisplay(a.showCancel)}function WaitDialogBoxWidget_getHTML(){var b=this,a="";a+=b.beginHTML();a+='<table border="0" cellspacing="0" cellpadding="0" width="100%"><tbody>';a+='<tr><td align="center" valign="top">'+b.frZone.beginHTML();a+='<table border="0" cellspacing="0" cellpadding="0" width="100%"><tbody><tr><td align="center" style="padding-top:5px;">'+img(_skin+"wait01.gif",200,40)+'</td></tr><tr><td align="left" style="padding-left:2px;padding-right:2px;padding-top:5px;"><div id="'+b.label.id+'" class="icontext" style="wordWrap:break_word;">'+convStr(b.label.text,false,true)+"</div></td></tr></tbody></table>";a+=b.frZone.endHTML()+"</td></tr>";a+='<tr><td align="center" valign="middle" style="padding-top:5px;"><div id="cancelDiv'+b.id+'">'+b.cancelButton.getHTML()+"</div></td></tr>";a+="</tbody></table>";a+=b.endHTML();return a}function WaitDialog_FrameZoneWidget_beginHTML(){var a=this;return'<table class="waitdialogzone" style="'+sty("width",a.w)+sty("height",a.h)+'" id="'+a.id+'" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td valign="top" class="dialogzone" id="frame_cont_'+a.id+'">'}function WaitDialog_FrameZoneWidget_endHTML(){var a=this;return"</td></tr></tbody></table>"}function WaitDialogBoxWidget_setShowCancel(a,c){var b=this;b.showCancel=a;b.cancelButton.setDisabled(false);b.cancelButton.setDisplay(a);b.cancelCB=c}function WaitDialogBoxWidget_setShowLabel(a,c){var b=this;b.showLabel=a;b.label.text=c;b.label.setHTML(c);b.label.setDisplay(a)}function WaitDialogBoxWidget_cancelCB(){var a=this;if(a.cancelCB!=null){a.cancelCB();a.cancelButton.setDisabled(true)}}function CancelButton_cancelCB(){var a=this;if(a.par.cancelCB!=null){a.par.cancelCB();a.par.cancelButton.setDisabled(true)}}function WaitDialogBoxWidget_show(a){var b=this;if(a){if(b.showCancel){b.frZone.resize(null,b.getContainerHeight()-(2*b.pad+21+10))}else{b.frZone.resize(null,b.getContainerHeight()-10)}}b.oldShow2(a)};