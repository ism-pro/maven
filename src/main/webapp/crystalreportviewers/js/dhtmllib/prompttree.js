function newTreePromptWidget(a,g,d,j,c,e,i,f){var b=newTreeWidget(a,g,d,_skin+"../prompt.gif",j,c,e,i,f);b.padding=0;b.iconW=15;b.iconH=17;b.dispIcnFuncName="dispIcnPrompt";return b}function newTreePromptElem(c,b,a){var d=newTreeWidgetElem(3,c,a,null,2,null);d.isPrompt=true;d.values=b;d.getHTML=TreePromptElem_getHTML;d.isChecked=TreePromptElem_isChecked;d.change=TreePromptElem_change;d.selectedClass="promptSelected";d.nonselectedClass="promptNormal";d.select=TreePromptElem_select;d.selected=false;d.checkIcn=null;d.init=TreePromptElem_init;return d}function TreePromptElem_init(){var a=this;a.domElem=getLayer(_codeWinName+"trLstElt"+a.id);a.icnLyr=getLayer(_codeWinName+"icn"+a.id);a.toggleLyr=getLayer(_codeWinName+"trTog"+a.id)}function TreePromptElem_change(b,a){var c=this;c.name=b;c.values=a;if(c.domElem==null){c.domElem=getLayer(_codeWinName+"trLstElt"+c.id)}if(c.domElem!=null){c.domElem.innerHTML=convStr(c.name)+(c.values!=null?('<b><span style="color:red">&nbsp;:&nbsp;</span>'+convStr(c.values)+"</b>"):"");if(c.par==null){if(c.checkIcn==null){c.checkIcn=getLayer(_codeWinName+c.id+"_checkIcn")}changeSimpleOffset(c.checkIcn,0,c.isChecked()?0:17,null,c.isChecked()?_checkedPromptLab:_nocheckedPromptLab)}if(c.values){c.advTooltip=_selectionPromptLab+" "+c.values}else{c.advTooltip=_noselectionPromptLab}}}function TreePromptElem_select(setFocus,ev){with(this){if(treeView.selId!=id){if(treeView.selId>=0){var prev=_TreeWidgetElemInstances[treeView.selId];prev.init();var e=prev.domElem;e.className=prev.nonselectedClass;e.parentNode.parentNode.className=prev.nonselectedClass;var prevIcn=prev.icnLyr;if(prevIcn==null){prevIcn=prev.icnLyr=getLayer(_codeWinName+"icn"+prev.id)}prevIcn.parentNode.className=prev.nonselectedClass;prev.selected=false;var arrowL=prevIcn.childNodes[0];changeSimpleOffset(arrowL,prev.selected?15:0,prev.sub.length==0?17*4:(prev.expanded?17*2:17*3))}treeView.selId=id;init();treeView.layer._BOselId=id;var de=domElem;de.className=selectedClass;de.parentNode.parentNode.className=selectedClass;if(this.icnLyr==null){this.icnLyr=getLayer(_codeWinName+"icn"+id)}this.icnLyr.parentNode.className=selectedClass;this.selected=true;var arrowL=this.icnLyr.childNodes[0];changeSimpleOffset(arrowL,this.selected?15:0,this.sub.length==0?17*4:(this.expanded?17*2:17*3));if(setFocus){de.focus()}if(treeView.clickCB){treeView.clickCB(userData)}}}if(ev){eventCancelBubble(ev)}}function TreePromptElem_isChecked(){return this.values!=null}function TreePromptElem_getHTML(c,g){var b=this,p=new Array,k=0,n=b.sub.length,e=(n>0)||b.isIncomplete,r=b.treeView.icns;var m="border-top:0px;";if(g){b.treeView.isFirst=false;m=""}var h=false;if(b.par){var q=b.par.sub,d=q.length;if(d>0){h=(q[d-1].id==b.id)}}if((b.par!=null)&&h){m+="border-bottom:0px;"}var l=' onclick="'+_codeWinName+".TreeWidget_clickCB("+b.id+',false,event);if(_saf||_ie) return false" onmousedown="'+_codeWinName+".TreeWidget_clickCB("+b.id+',false,event);if(_saf||_ie) return false" ondblclick="'+_codeWinName+".treeDblClickCB("+b.id+',event);return false" ';p[k++]='<table style="border:1px solid #E2E2E2;border-right:0px;'+m+'" width="100%" border="0" cellspacing="0" cellpadding="0">';p[k++]='<tr valign="top">';if(b.par==null){p[k++]='<td width="15" style="border-right:1px solid #E2E2E2;">'+simpleImgOffset(r,15,17,0,b.isChecked()?0:17,_codeWinName+b.id+"_checkIcn",null,b.isChecked()?_checkedPromptLab:_nocheckedPromptLab)+"</td>"}p[k++]="<td "+l+' class="promptNormal" width="15"><span id="'+_codeWinName+"icn"+b.id+'" '+(_moz?"onclick":"onmousedown")+'="'+_codeWinName+".TreeWidget_clickCB("+b.id+',true,event); if (_ie) return false" ondblclick="'+_codeWinName+".treeDblClickCB("+b.id+',event);return false">'+simpleImgOffset(r,15,17,0,e?(b.expanded?34:51):68)+"</span></td>";p[k++]="<td  "+l+' class="promptNormal" width="100%" style="padding-top:2px;padding-right:0px"><nobr>';p[k++]='&nbsp;<a class="promptNormal" id="'+_codeWinName+"trLstElt"+b.id+'" href="javascript:void(0)" onfocus="'+_codeWinName+".treeFCCB(this,"+b.id+',true)" onblur="'+_codeWinName+".treeFCCB(this,"+b.id+',false)">';p[k++]=""+convStr(b.name)+(b.values!=null?('<b><span style="color:red">&nbsp;:&nbsp;</span>'+convStr(b.values)+"</b>"):"")+"</a>";p[k++]="</nobr>";if(e){p[k++]='<table width="100%" style="display:'+(b.expanded?"block":"none")+' " border="0" cellspacing="0" cellpadding="0"><tr><td id="'+_codeWinName+"trTog"+b.id+'" style="padding:0px;padding-left:20px;padding-top:3px;">'}if(b.expanded){b.generated=true;var s=c+_trIndent;for(var f=0;f<n;f++){p[k++]=b.sub[f].getHTML(s,f==0)}b.treeView.isFirst=false}if(e){nodeIndent=c;p[k++]="</td></tr></table>"}p[k++]="</td></tr></table>";if(b.values){b.advTooltip=_selectionPromptLab+" "+b.values}else{b.advTooltip=_noselectionPromptLab}return p.join("")}function dispIcnPrompt(eId){var e=_TreeWidgetElemInstances[eId];with(e){select();if(expanded&&!generated){e.generated=true;var s="",len=sub.length,newInd=nodeIndent+_trIndent;for(var j=0;j<len;j++){s+=sub[j].getHTML(newInd,j==0)}toggleLyr.innerHTML=s}var icn=treeView.icns[iconId];toggleLyr.parentNode.parentNode.parentNode.style.display=expanded?"block":"none";var arrowL=icnLyr.childNodes[0];changeSimpleOffset(arrowL,selected?15:0,expanded?17*2:17*3)}};