_allBOIcons=new Array;_allBOIconsMenus=new Array;_menuType_simple=0;_menuType_color=1;_menuType_border=2;function NewLabelWidget(d,c,a){var b=newWidget(d);b.text=c;b.convBlanks=a;b.getHTML=LabelWidget_getHTML;b.setDisabled=LabelWidget_setDisabled;b.dis=false;return b}function LabelWidget_setDisabled(a){var b=this;if(b.dis!=a){b.dis=a;if(b.layer){b.layer.className="iconText"+(a?"Dis":"")}}}function LabelWidget_getHTML(){var a=this;return'<div id="'+a.id+'" class="icontext'+(a.dis?"Dis":"")+'" style="white-space:nowrap;margin-right:4px;margin-left:4px;cursor:default">'+convStr(a.text,a.convBlanks)+"</div>"}function newIconWidget(c,b,m,i,e,g,f,n,k,a,l){var d=newWidget(c);d.src=b;d.clickCB=m;d.text=i;d.alt=e;d.width=null;d.txtAlign="left";d.border=4;d.txtNoPadding=false;d.allowDblClick=false;if(b){d.w=(g!=null)?g:16;d.h=(f!=null)?f:16;d.dx=(n!=null)?n:0;d.dy=(k!=null)?k:0;d.disDx=(a!=null)?a:0;d.disDy=(l!=null)?l:0}else{d.w=1;d.h=16}d.dis=false;d.disp=true;d.margin=1;d.extraHTML="";d.imgLayer=null;d.txtLayer=null;d.overCB="IconWidget_overCB";d.outCB="IconWidget_outCB";d.isDisplayed=IconWidget_isDisplayed;d.setDisplay=IconWidget_setDisplay;d.getHTML=IconWidget_getHTML;d.getTxtWidth=IconWidget_getTxtWidth;d.index=_allBOIcons.length++;d.nocheckClass="iconnocheck";d.hoverClass="iconhover";d.checkClass="iconcheck";d.checkhoverClass="iconcheckhover";d.currentClass=d.nocheckClass;d.currentHoverClass=d.hoverClass;d.setClasses=IconWidget_setClasses;d.internalUpCB=null;d.internalDownCB=IconWidget_internalDownCB;d.internalUpCB=IconWidget_internalUpCB;d.isHover=false;d.changeTooltip=IconWidget_changeTooltip;d.changeText=IconWidget_changeText;d.changeImg=IconWidget_changeImg;d.setDisabled=IconWidget_setDisabled;d.isDisabled=IconWidget_isDisabled;d.acceptClick=IconWidget_acceptClick;_allBOIcons[d.index]=d;d.outEnable=true;d.setCrs=IconWidget_setCrs;d.oldRes=d.resize;d.resize=IconWidget_resize;d.iconOldInit=d.init;d.init=IconWidget_init;return d}function newIconMenuWidget(c,b,q,m,f,l,g,r,n,a,p,e,k,i){var d=newWidget(c);if(typeof(i)=="undefined"){i=e?_menuType_color:_menuType_simple}d.menuItemType=e?_isColor:_isNotColor;d.icon=newIconWidget("iconMenu_icon_"+c,b,IconMenuWidget_iconClickCB,m,f,l,g,r,n,a,p);d.arrow=newIconWidget("iconMenu_arrow_"+c,_skin+"menus.gif",IconMenuWidget_arrowClickCB,null,(_openMenuPart1+(m?m:(f?f:""))+_openMenuPart2),7,16,0,81,0,97);switch(i){case _menuType_color:d.menu=newMenuColorWidget("iconMenu_menu_"+c,IconMenuWidget_hideCB);break;case _menuType_border:d.menu=newMenuBordersWidget("iconMenu_menu_"+c,IconMenuWidget_hideCB,k,IconBordersMenuWidget_internalClickCB);break;default:case _menuType_simple:d.menu=newMenuWidget("iconMenu_menu_"+c,IconMenuWidget_hideCB,k);break}d.icon.par=d;d.arrow.par=d;d.menu.parIcon=d;d.icon.margin=0;d.arrow.margin=0;d.icon.overCB="IconWidget_none";d.icon.outCB="IconWidget_none";d.arrow.overCB="IconWidget_none";d.arrow.outCB="IconWidget_none";d.margin=1;d.spc=0;d.getHTML=IconMenuWidget_getHTML;d.clickCB=q;d.getMenu=IconMenuWidget_getMenu;d.menIcnOldInit=d.init;d.init=IconMenuWidget_init;d.index=_allBOIconsMenus.length++;_allBOIconsMenus[d.index]=d;d.setDisabled=IconMenuWidget_setDisabled;d.isDisabled=IconMenuWidget_isDisabled;d.disableMenu=IconMenuWidget_disableMenu;d.changeText=IconMenuWidget_changeText;d.imwpResize=d.resize;d.resize=IconMenuWidget_resize;d.focus=IconMenuWidget_focus;d.changeArrowTooltip=IconMenuWidget_changeArrowTooltip;d.disp=true;d.isDisplayed=IconWidget_isDisplayed;d.setDisplay=IconWidget_setDisplay;return d}function IconMenuWidget_changeText(a){this.icon.changeText(a)}function IconMenuWidget_changeArrowTooltip(a){this.arrow.changeTooltip(a,false)}function IconMenuWidget_resize(a,b){var e=this;if(a!=null){a=Math.max(0,a-2*e.margin)}var c=e.layer.display!="none";if(c&_moz&&!_saf){e.setDisplay(false)}e.imwpResize(a,b);if(a!=null){e.icon.resize(Math.max(0,a-13-e.spc))}if(c&_moz&&!_saf){e.setDisplay(true)}}function IconMenuWidget_setDisabled(a){var b=this;if(a){if(b.menu.isShown()){b.menu.show(false)}IconMenuWidgetOutCB(b.index)}b.icon.setDisabled(a);b.arrow.setDisabled(a)}function IconMenuWidget_isDisabled(){return(this.icon.dis==true)}function IconMenuWidget_internalCB(){var c=this,a=null;if(c.id!=null){a=(c.menuItemType!=_isLastUsedColor)?c.id.slice(6):c.color}var b=c.par.parIcon;b.oldColor=b.curColor;b.curColor=a;if(b.curColor!=null){b.showSample()}if(b.clickColor){b.clickColor()}}function IconMenuWidget_focus(){var a=this;a.arrow.focus()}function IconMenuWidget_disableMenu(a){var c=this;c.arrow.setDisabled(a);c.menu.setDisabled(a)}function IconMenuWidget_getMenu(){return this.menu}function IconWidget_none(){}function IconMenuWidget_init(){var b=this;b.menIcnOldInit();b.icon.init();b.arrow.init();b.menu.init();var a=b.layer;a.onmouseover=IconMenuWidget_OverCB;a.onmouseout=IconMenuWidget_OutCB}function IconMenuWidget_getHTML(){var b=this,a=b.disp?"":"display:none;";return'<table id="'+b.id+'" cellspacing="0" cellpadding="0" border="0" style="'+a+"margin:"+b.margin+'px"><tr><td>'+b.icon.getHTML()+'</td><td style="padding-left:'+b.spc+'px" width="'+(13+b.spc)+'">'+b.arrow.getHTML()+"</td></table>"}function IconMenuWidget_OverCB(){IconMenuWidgetOverCB(getWidget(this).index);return true}function IconMenuWidget_OutCB(){IconMenuWidgetOutCB(getWidget(this).index)}function IconMenuWidgetOverCB(a){o=_allBOIconsMenus[a];IconWidget_overCB(o.icon.index);IconWidget_overCB(o.arrow.index)}function IconMenuWidgetOutCB(a){o=_allBOIconsMenus[a];if(!o.menu.isShown()){IconWidget_outCB(o.icon.index);IconWidget_outCB(o.arrow.index)}else{IconWidget_overCB(o.icon.index);IconWidget_overCB(o.arrow.index)}}function IconMenuWidget_iconClickCB(){var c=this.par;if(c.clickCB==null){var b=c.layer;var a=getPos2(b);c.menu.show(!c.menu.isShown(),a.x,a.y+c.getHeight()+1,null,null,c);IconMenuWidgetOverCB(c.index)}else{c.clickCB()}}function IconMenuWidget_arrowClickCB(){var c=this.par,b=c.layer;var a=getPos2(b);c.menu.show(!c.menu.isShown(),a.x,a.y+c.getHeight()+1,null,null,c);IconMenuWidgetOverCB(c.index)}function IconMenuWidget_hideCB(){var a=this.parIcon;if(a.arrow){a.arrow.focus()}IconMenuWidgetOutCB(a.index)}function newIconCheckWidget(c,b,m,i,e,g,f,n,k,a,l){var d=newIconWidget(c,b,m,i,e,g,f,n,k,a,l);d.checked=false;d.internalUpCB=IconCheckWidget_internalUpCB;d.internalDownCB=IconCheckWidget_internalDownCB;d.check=IconCheckWidget_check;d.isChecked=IconCheckWidget_isChecked;d.oldInit=d.init;d.init=IconCheckWidget_init;d.isRadio=false;return d}function newPaletteContainerWidget(d,a,b){var c=newWidget(d);c.beginHTML=PaletteContainerWidget_beginHTML;c.endHTML=PaletteContainerWidget_endHTML;c.add=PaletteContainerWidget_add;c.palettes=new Array;c.contextMenu=a;c.margin=(b!=null)?b:4;return c}function newPaletteWidget(c,a){var b=newWidget(c);b.getHTML=PaletteWidget_getHTML;b.add=PaletteWidget_add;b.disableChildren=PaletteWidget_disableChildren;b.items=new Array;b.oldInit=b.init;b.init=PaletteWidget_init;b.beginRightZone=PaletteWidget_beginRightZone;b.height=a;b.rightZoneIndex=-1;b.sepCount=0;b.vertPadding=4;return b}function newPaletteSepWidget(b){var a=newWidget(b);a.getHTML=PaletteSepWidget_getHTML;a.isSeparator=true;return a}function newPaletteVerticalSepWidget(b){var a=newWidget(b);a.getHTML=PaletteVerticalSepWidget_getHTML;a.isSeparator=true;return a}function PaletteVerticalSepWidget_getHTML(){return img(_skin+"iconsep.gif",6,22,null,' id="'+this.id+'" ')}function getPaletteSep(){return img(_skin+"iconsep.gif",6,22)}function IconRadioWidget_uncheckOthers(){var e=this.groupInstance,b=this.groupIdx,a=e.length;for(var d=0;d<a;d++){if(d!=b){var f=e[d];if(f){f.check(false)}}}}function PaletteWidget_beginRightZone(){this.rightZoneIndex=this.items.length}function PaletteSepWidget_getHTML(){return'<div style="background-image:url('+_skin+'sep.gif);height:2px;padding:0px;margin-top:0px;margin-bottom:0px;margin-left:4px;margin-right:4px">'+getSpace(1,2)+"</div>"}function PaletteContainerWidget_beginHTML(){var b=this;var a=b.contextMenu?('oncontextmenu="'+_codeWinName+'.PaletteContainerWidget_contextMenu(this,event);return false"'):"";return"<div "+a+'class="palette" style="overflow:hidden;margin:'+b.margin+'px;" id="'+b.id+'">'}_delayedMenu=null;function PaletteContainerWidget_contextMenu(b,a){if(_ie){a=_curWin.event}_delayedMenu=getWidget(b).contextMenu;setTimeout("_delayedMenu.par=null;_delayedMenu.show(true,"+absxpos(a)+","+absypos(a)+")",1)}function PaletteContainerWidget_endHTML(){return"</div>"}function PaletteContainerWidget_add(a){this.palettes[this.palettes.length]=a;return a}function PaletteWidget_getHTML(){var g=this,c=g.items,b=c.length,a=new Array;j=0;a[j++]='<table style="position:relative;overflow:hidden" id="'+g.id+'" '+attr("height",g.height)+' cellspacing="0" cellpadding="0" '+(_ie?"":'width="100%"')+'><tbody><tr valign="middle">';a[j++]='<td align="left" style="padding-left:'+g.vertPadding+'px;padding-right:4px"><table cellspacing="0" cellpadding="0"><tbody><tr valign="middle">';var f=false;for(var d=0;d<b;d++){if(d==g.rightZoneIndex){a[j++]='</tr></tbody></table></td><td width="100%" align="right" style="padding-right:'+g.vertPadding+'px"><table cellspacing="0" cellpadding="0"><tbody><tr valign="middle">';f=true}var e=c[d];a[j++]="<td>"+e.getHTML()+"</td>"}if(!f){a[j++]='</tr></tbody></table></td><td width="100%" align="right" style="padding-right:4px"><table cellspacing="0" cellpadding="0"><tbody><tr valign="middle"><td></td>'}a[j++]="</tr></tbody></table></td></tr></tbody></table>";return a.join("")}function PaletteWidget_add(a){if(a==null){a=newPaletteVerticalSepWidget(this.id+"_palettesep_"+(this.sepCount++))}this.items[this.items.length]=a;return a}function PaletteWidget_disableChildren(b){var a=this.items;for(var c in a){var d=a[c];if(d&&(d.isSep!=true)){d.setDisabled(b)}}}function PaletteWidget_init(){this.oldInit();var a=this.items;for(var b in a){var c=a[b];if(c){c.init()}}}function IconWidget_isDisplayed(){return this.disp}function IconWidget_setDisplay(c){var b=this;if(b.css){var a=c?"block":"none";if(b.css.display!=a){b.css.display=a}}b.disp=c}function IconWidget_getTxtWidth(){var b=this,a=b.width;if(a!=null){a=a-(b.margin*2);a=a-(b.src?b.w+b.border:1);a=a-(b.txtNoPadding?0:((b.src?4:2)+2));if(_ie){a-=2}else{a-=2}return Math.max(0,a)}else{return -1}}function IconWidget_init(){var e=this,b=false;e.iconOldInit();var a=e.layer;a.tabIndex=e.dis?-1:0;a.title=(e.alt?e.alt:(e.text?e.text:""));if(e.clickCB){a.onclick=IconWidget_upCB;a.onmousedown=IconWidget_downCB;if(e.allowDblClick&&(_ie||_saf)){b=true;addDblClickCB(a,IconWidget_upCB)}a.onkeydown=IconWidget_keydownCB;a.onmouseover=IconWidget_realOverCB;a.onmouseout=IconWidget_realOutCB}if(!b){addDblClickCB(a,IconWidget_retFalse)}a.onselectstart=IconWidget_retFalse;var c=e.disp?"block":"none";if(e.css.display!=c){e.css.display=c}}function IconWidget_getHTML(){var f=this,b=f.src?'<div style="overflow:hidden;height:'+(f.h+f.border)+"px;width:"+(f.w+f.border)+'px;">'+simpleImgOffset(f.src,f.w,f.h,f.dis?f.disDx:f.dx,f.dis?f.disDy:f.dy,"IconImg_"+f.id,null,f.alt,"margin:2px;cursor:"+(f.clickCB?(!f.acceptClick()?"default":_hand):"default"))+f.extraHTML+"</div>":'<div class="icontext" style="width:1px;height:'+(f.h+f.border)+'px"></div>';var a='style="white-space:nowrap;',e=f.getTxtWidth();if(e>=0){a+="text-overflow:ellipsis;overflow:hidden;width:"+e+"px"}a+='"';var c=f.disp?"":"display:none;";return'<table style="'+c+"height:"+(f.h+f.border+(_moz?2:0))+"px;"+(f.width!=null?"width:"+f.width+"px;":"")+"margin:"+f.margin+'px" id="'+f.id+'" class="'+f.nocheckClass+'" cellspacing="0" cellpadding="0" border="0"><tr valign="middle"><td>'+((f.clickCB&&_ie)?lnk(b,null,null,null,' tabIndex="-1"'):b)+"</td>"+(f.text?'<td align="'+f.txtAlign+'" style="padding-left:'+(f.txtNoPadding?0:(f.src?4:2))+"px;padding-right:"+(f.txtNoPadding?0:2)+'px"><div id="IconImg_Txt_'+f.id+'" class="icontext'+(f.dis?"Dis":"")+'" '+a+">"+convStr(f.text)+"</div></td>":"")+"</tr></table>"}function IconWidget_realOutCB(){var o=getWidget(this);eval(o.outCB+"("+o.index+")")}function IconWidget_realOverCB(){var o=getWidget(this);eval(o.overCB+"("+o.index+")");return true}function IconWidget_retFalse(){return false}function IconWidget_resize(a,b){var d=this;if(d.layer){d.oldRes(a,b)}if(d.txtLayer==null){d.txtLayer=getLayer("IconImg_Txt_"+d.id)}if(a!=null){d.width=a;var c=d.getTxtWidth();if(d.txtLayer&&(c>=0)){d.txtLayer.style.width=""+c+"px"}}if(b!=null){d.h=b?(b-d.border):d.h;if(d.txtLayer&&(d.h>=0)){d.txtLayer.style.height=""+d.h+"px"}}}function IconWidget_changeTooltip(b,a){var c=this;if(b==null){return}if(!a){c.alt=b}if(c.layer){c.layer.title=b}if(c.imgLayer==null){c.imgLayer=getLayer("IconImg_"+this.id)}if(c.imgLayer){changeSimpleOffset(c.imgLayer,null,null,null,b)}}function IconWidget_changeText(a){var b=this;b.text=a;if(b.layer){if(b.txtLayer==null){b.txtLayer=getLayer("IconImg_Txt_"+b.id)}b.txtLayer.innerHTML=convStr(a)}}function IconWidget_changeImg(b,a,d){var c=this;if(d){c.src=d}if(b!=null){c.dx=b}if(a!=null){c.dy=a}if(c.layer&&(c.imgLayer==null)){c.imgLayer=getLayer("IconImg_"+this.id)}if(c.imgLayer){changeSimpleOffset(c.imgLayer,b,a,c.src)}}function IconWidget_internalDownCB(){if(!this.dis){this.currentHoverClass=this.checkhoverClass}}function IconWidget_internalUpCB(){if(!this.dis){this.currentHoverClass=this.hoverClass}}function IconWidget_setCrs(){var b=this,a=(b.clickCB?(!b.acceptClick()?"default":_hand):"default");b.css.cursor=a;if(b.src){if(b.imgLayer==null){b.imgLayer=getLayer("IconImg_"+b.id)}if(b.imgLayer){b.imgLayer.style.cursor=a}}}function IconWidget_downCB(){var a=getWidget(this);if((a.layer)&&(a.acceptClick())){a.internalDownCB();a.layer.className=a.currentHoverClass}if(_ie||_saf){return false}}function IconWidget_upCB(){var a=getWidget(this);if((a.layer)&&(a.acceptClick())){a.internalUpCB();a.layer.className=a.isHover?a.currentHoverClass:a.currentClass;a.setCrs();setTimeout("delayedClickCB("+a.index+")",1)}}function IconWidget_keydownCB(a){if(eventGetKey(a)==13){var b=getWidget(this);if((b.layer)&&(b.acceptClick())){b.internalUpCB();b.layer.className=b.isHover?b.currentHoverClass:b.currentClass;b.setCrs();setTimeout("delayedClickCB("+b.index+")",1)}eventCancelBubble(a)}}function delayedClickCB(a){var b=_allBOIcons[a];if(b.beforeClickCB){b.beforeClickCB()}if(b.clickCB){b.clickCB()}}function IconWidget_overCB(a){var b=_allBOIcons[a];b.setCrs();if((b.layer)&&(!b.dis)&&!(b.par&&b.par.checked)){b.isHover=true;b.layer.className=b.currentHoverClass}}function IconWidget_outCB(a){var b=_allBOIcons[a];if((b.layer)&&(b.outEnable)&&!(b.par&&b.par.checked)){b.isHover=false;b.layer.className=b.currentClass}}function IconCheckWidget_init(){var a=this;a.oldInit();a.check(a.checked,true)}function IconCheckWidget_internalDownCB(){var a=this;if(a.acceptClick()){a.currentHoverClass=a.checked?a.hoverClass:a.checkhoverClass}}function IconCheckWidget_internalUpCB(){var a=this;if(a.acceptClick()){a.checked=a.isRadio?true:!a.checked;a.currentClass=a.checked?this.checkClass:this.nocheckClass;a.currentHoverClass=a.checked?this.checkhoverClass:this.hoverClass}}function IconCheckWidget_check(a,b){var c=this;if((c.checked!=a)||b){c.checked=a;if(c.layer){c.layer.className=c.currentClass=c.checked?this.checkClass:this.nocheckClass;c.currentHoverClass=c.checked?this.checkhoverClass:this.hoverClass}}if(c.checked&&c.beforeClickCB){if(c.layer){c.beforeClickCB()}}}function IconCheckWidget_isChecked(){return this.checked}function IconWidget_setClasses(b,a,c,d){var e=this;e.nocheckClass=b;e.checkClass=a;e.hoverClass=c;e.checkhoverClass=d;e.currentClass=e.nocheckClass;e.currentHoverClass=e.hoverClass}function IconWidget_setDisabled(a){var b=this;if(b.dis!=a){b.dis=a;if(b.layer){b.setCrs();if(b.src){if(b.imgLayer==null){b.imgLayer=getLayer("IconImg_"+this.id)}changeSimpleOffset(b.imgLayer,a?b.disDx:b.dx,a?b.disDy:b.dy)}if(b.text){if(b.txtLayer==null){b.txtLayer=getLayer("IconImg_Txt_"+b.id)}b.txtLayer.className="iconText"+(a?"Dis":"");if(a){b.layer.className=b.currentClass}}b.layer.tabIndex=b.dis?-1:0}}}function IconWidget_isDisabled(){return this.dis?this.dis:false}function IconWidget_acceptClick(){var a=this;if(a.isDisabled()){return false}if(a.isRadio&&a.checked){return false}return true}function newCustomCombo(d,i,b,e,p,c,k,g,n,l,a,m){var f=newIconMenuWidget(d,c,null," ",p,k,g,n,l,a,m);f.icon.width=e!=null?Math.max(0,e-13):50-(2*f.margin);f.icon.setClasses("combonocheck","combocheck","combohover","combocheck");f.icon.clip;f.arrow.setClasses("iconnocheck","combobtnhover","combobtnhover","combobtnhover");f.spc=0;f.margin=2;if(c==null){f.icon.h=12;f.arrow.h=12;f.arrow.dy+=2;f.arrow.disDy+=2}f.counter=0;f.changeCB=i;f.selectedItem=null;f.setOldDid=f.setDisabled;f.disabled=false;f.ccomboOldInit=f.init;f.init=CustomCombo_init;f.add=CustomCombo_add;f.addSeparator=CustomCombo_addSeparator;f.addMenuItem=CustomCombo_addMenuItem;f.select=CustomCombo_select;f.getSelection=CustomCombo_getSelection;f.valueShow=CustomCombo_valueShow;f.valueSelect=CustomCombo_valueSelect;f.setUndefined=CustomCombo_setUndefined;f.setDisabled=CustomCombo_setDisabled;f.getVisibleItemsCount=CustomCombo_getVisibleItemsCount;f.selectItem=CustomCombo_selectItem;f.getItemByIndex=CustomCombo_getItemByIndex;f.getItemIndex=CustomCombo_getItemIndex;f.setItemDisabled=CustomCombo_setItemDisabled;return f}function CustomCombo_init(){var a=this;a.ccomboOldInit();if(a.disabled){a.icon.changeTooltip(a.icon.alt?a.icon.alt:"",true)}a.arrow.changeTooltip(_openMenuPart1+(a.icon.alt?a.icon.alt:"")+_openMenuPart2)}function CustomCombo_add(b,e,a){var d=this;var c=d.menu.addCheck(d.id+"_it_"+(d.counter++),b,CustomCombo_internalCB);c.val=""+e;c.parCombo=d;c.isComboVal=true;if((d.selectedItem==null)||a){d.selectItem(c)}}function CustomCombo_addSeparator(){this.menu.addSeparator()}function CustomCombo_addMenuItem(b,f,c,e,i,g,d,a,h){this.menu.add(b,f,c,e,i,g,d,a,h)}function CustomCombo_internalCB(){var a=this,b=a.parCombo;b.selectItem(a);if(b.changeCB){b.changeCB()}}function CustomCombo_getItemByIndex(a){var b=this.menu.items;return((a>=0)&&(a<b.length))?b[a]:null}function CustomCombo_getItemIndex(f){var b=this.menu.items,a=b.length,c=0;for(var d=0;d<a;d++){var e=b[d];if(e.isComboVal){if(e.id==f.id){return c}c++}}return -1}function CustomCombo_selectItem(a){var b=this;if(b.selectedItem){b.selectedItem.check(false)}if(a){b.val=a.val;b.icon.changeText(b.disabled?"":a.text);b.selectedItem=a;a.check(true);if(b.disabled){b.icon.changeTooltip(b.icon.alt?b.icon.alt:"",true)}else{b.icon.changeTooltip(b.icon.alt?(b.icon.alt+" ("+a.text)+")":(a.text),true)}}else{b.val=null;b.icon.changeText("");b.icon.changeTooltip(b.icon.alt?b.icon.alt:"",true);b.selectedItem=null}}function CustomCombo_setDisabled(b){var a=this;if(a.selectedItem){a.icon.changeText(b?"":a.selectedItem.text)}a.disabled=b;a.setOldDid(b);if(b){a.icon.changeTooltip(a.icon.alt?a.icon.alt:"",true)}}function CustomCombo_select(a){var c=this,b=c.getItemByIndex(a);if(b){c.selectItem(b)}}function CustomCombo_setItemDisabled(a,b){var d=this,c=d.getItemByIndex(a);if(c){c.setDisabled(b)}}function CustomCombo_getSelection(){var b=this,a=b.selectedItem;if(a){return{index:b.getItemIndex(a),value:a.val}}else{return null}}function CustomCombo_valueSelect(c){c=""+c;var f=this,b=f.menu.items,a=b.length;for(var d=0;d<a;d++){var e=b[d];if((e.isComboVal)&&(e.val==c)&&(e.isShown)){f.selectItem(e);return true}}return false}function CustomCombo_valueShow(d,b){d=""+d;var g=this,c=g.menu.items,a=c.length;for(var e=0;e<a;e++){var f=c[e];if((f.isComboVal)&&(f.val==d)){f.show(b);return}}}function CustomCombo_setUndefined(a){var b=this;if(a){b.selectItem(null)}}function CustomCombo_getVisibleItemsCount(){var e=this,b=e.menu.items,a=b.length,f=0;for(var c=0;c<a;c++){var d=b[c];if((d.isComboVal)&&(d.isShown)){f++}}return f}function newComboTextFieldWidget(c,g,k,f,i,b,l,d,a,h){var e=newTextFieldWidget(c,g,k,f,i,b,l,d,a,h);e.par=null;e.oldInit=e.init;e.init=ComboTextFieldWidget_init;e.setContentEditable=ComboTextFieldWidget_setContentEditable;e.isContentEditable=ComboTextFieldWidget_isContentEditable;e.getHTML=ComboTextFieldWidget_getHTML;e.oldSetDisabled=e.setDisabled;e.setDisabled=ComboTextFieldWidget_setDisabled;return e}function ComboTextFieldWidget_init(){var b=this;b.oldInit();var a=b.layer;if(a!=null){b.setContentEditable(true);a.onclick=ComboTextFieldWidget_onClick}}function ComboTextFieldWidget_setContentEditable(c){var b=this,a=b.layer;b.contentEditable=c;if(a){a.contentEditable=c;a.style.cursor=c?"text":_hand;a.className=c?"comboEditable":"combo"}}function ComboTextFieldWidget_isContentEditable(){var a=this;return a.contentEditable}function ComboTextFieldWidget_onClick(){var a=getWidget(this);if(a.contentEditable){return}if(a.par!=null){a.par.clickCB()}}function ComboTextFieldWidget_getHTML(){var a=this;return"<input"+(a.disabled?" disabled":"")+' oncontextmenu="event.cancelBubble=true;return true" style="'+sty("width",this.width)+(_moz?"margin-top:1px;margin-bottom:1px;padding-left:2px;padding-right:2px;":"")+(_isQuirksMode?"height:18px;":"height:14px;")+"margin-left:"+(this.noMargin?0:10)+'px" onfocus="'+_codeWinName+'.TextFieldWidget_focus(this)" onblur="'+_codeWinName+'.TextFieldWidget_blur(this)" onchange="'+_codeWinName+'.TextFieldWidget_changeCB(event,this)" onkeydown=" return '+_codeWinName+'.TextFieldWidget_keyDownCB(event,this);" onkeyup=" return '+_codeWinName+'.TextFieldWidget_keyUpCB(event,this);" onkeypress=" return '+_codeWinName+'.TextFieldWidget_keyPressCB(event,this);" type="text" '+attr("maxLength",this.maxChar)+' ondragstart="event.cancelBubble=true;return true" onselectstart="event.cancelBubble=true;return true" class="combo" id="'+this.id+'" name="'+this.id+'"'+attr("title",this.tooltip)+' value="">'}function ComboTextFieldWidget_setDisabled(b){var a=this;a.oldSetDisabled(b)}function newTextComboWidget(a,g,i,f,d,b,e,h){var c=newWidget(a);c.text=newComboTextFieldWidget((h?h:"text_"+a),TextComboWidget_checkCB,g,null,TextComboWidget_enterCB,true,i,f-13);c.arrow=newIconWidget("arrow_"+a,_skin+"menus.gif",TextComboWidget_arrowClickCB,null,(_openMenuPart1+(i?i:"")+_openMenuPart2),7,16,0,81,0,97);c.menu=newMenuWidget("menu_"+a,TextComboWidget_hideCB,e);c.arrow.setClasses("iconnocheck","combobtnhover","combobtnhover","combobtnhover");c.text.par=c;c.arrow.par=c;c.menu.parIcon=c;c.arrow.margin=0;c.arrow.overCB="IconWidget_none";c.arrow.outCB="IconWidget_none";c.margin=0;c.spc=0;c.counter=0;c.arrow.h=12;c.arrow.dy+=2;c.arrow.disDy+=2;c.index=_allBOIconsMenus.length++;_allBOIconsMenus[c.index]=c;c.menIcnOldInit=c.init;c.init=TextComboWidget_init;c.imwpResize=c.resize;c.resize=TextComboWidget_resize;c.getHTML=TextComboWidget_getHTML;c.setDisabled=TextComboWidget_setDisabled;c.isDisabled=TextComboWidget_isDisabled;c.add=TextComboWidget_add;c.addSeparator=TextComboWidget_addSeparator;c.addMenuItem=TextComboWidget_addMenuItem;c.select=TextComboWidget_select;c.getSelection=TextComboWidget_getSelection;c.valueShow=TextComboWidget_valueShow;c.valueSelect=TextComboWidget_valueSelect;c.setUndefined=TextComboWidget_setUndefined;c.setContentEditable=TextComboWidget_setContentEditable;c.isContentEditable=TextComboWidget_isContentEditable;c.changeCB=d;c.checkCB=b;c.clickCB=TextComboWidget_clickCB;c.selectItem=TextComboWidget_selectItem;c.getItemByIndex=TextComboWidget_getItemByIndex;c.getItemIndex=TextComboWidget_getItemIndex;c.setItemDisabled=TextComboWidget_setItemDisabled;c.text.enterCancelBubble=false;return c}function TextComboWidget_init(){var b=this;b.menIcnOldInit();b.text.init();b.arrow.init();b.menu.init();var a=b.layer;a.onmouseover=TextCombo_OverCB;a.onmouseout=TextCombo_OutCB}function TextComboWidget_getHTML(){var b=this,a="";a+='<table id="'+b.id+'" cellspacing="0" cellpadding="0" border="0" style="cursor:default;margin:'+b.margin+'px"><tbody><tr>';a+="<td>"+b.text.getHTML()+"</td>";a+='<td style="padding-left:'+b.spc+'px" width="'+(13+b.spc)+'">'+b.arrow.getHTML()+"</td>";a+="</tr></tbody></table>";return a}function TextComboWidget_resize(a,b){var e=this;if(a!=null){a=Math.max(0,a-2*e.margin)}var c=e.layer.display!="none";if(c&_moz&&!_saf){e.setDisplay(false)}e.imwpResize(a,b);if(c&_moz&&!_saf){e.setDisplay(true)}}function TextComboWidget_add(b,e,a){var d=this;var c=d.menu.addCheck(d.id+"_it_"+(d.counter++),b,TextComboWidget_internalCB);c.val=""+e;c.parCombo=d;c.isComboVal=true;if((d.selectedItem==null)||a){d.selectItem(c)}}function TextComboWidget_addSeparator(){this.menu.addSeparator()}function TextComboWidget_addMenuItem(b,f,c,e,i,g,d,a,h){this.menu.add(b,f,c,e,i,g,d,a,h)}function TextComboWidget_setDisabled(b){var a=this;a.text.setDisabled(b);a.arrow.setDisabled(b);a.menu.setDisabled(b);a.disabled=b}function TextComboWidget_isDisabled(){var a=this;return a.disabled}function TextComboWidget_select(a){var c=this,b=c.getItemByIndex(a);if(b){c.selectItem(b)}}function TextComboWidget_setItemDisabled(a,b){var d=this,c=d.getItemByIndex(a);if(c){c.setDisabled(b)}}function TextComboWidget_getSelection(){var c=this,b=c.selectedItem;var a=c.text.getValue();if(b){return{index:c.getItemIndex(b),value:b.val}}else{return{index:-1,value:a}}}function TextComboWidget_valueSelect(c){c=""+c;var f=this,b=f.menu.items,a=b.length;for(var d=0;d<a;d++){var e=b[d];if((e.isComboVal)&&(e.val==c)){f.selectItem(e);return}}f.text.setValue(c)}function TextComboWidget_valueShow(d,b){d=""+d;var g=this,c=g.menu.items,a=c.length;for(var e=0;e<a;e++){var f=c[e];if((f.isComboVal)&&(f.val==d)){f.show(b);return}}g.text.setValue(d);g.text.show(b)}function TextComboWidget_setUndefined(a){var b=this;if(a){b.selectItem(null)}}function TextComboWidget_setContentEditable(b){var a=this;a.text.setContentEditable(b)}function TextComboWidget_isContentEditable(){var a=this;return a.text.isContentEditable()}function TextComboWidget_selectItem(a){var b=this;if(b.selectedItem){b.selectedItem.check(false)}if(a){b.val=a.val;b.text.setValue(a.text);b.selectedItem=a;a.check(true)}else{b.val=null;b.text.setValue("");b.selectedItem=null}}function TextComboWidget_getItemByIndex(a){var b=this.menu.items;return((a>=0)&&(a<b.length))?b[a]:null}function TextComboWidget_getItemIndex(f){var b=this.menu.items,a=b.length,c=0;for(var d=0;d<a;d++){var e=b[d];if(e.isComboVal){if(e.id==f.id){return c}c++}}return -1}function TextComboWidget_changeCB(){var c=this.par;var a=true;if(c.checkCB){a=c.checkCB()}if(!a){return}if(c.changeCB){c.changeCB()}}function TextComboWidget_enterCB(){var c=this.par;if(c.selectedItem){c.selectedItem.check(false);c.selectedItem=null}var a=true;if(c.checkCB){a=c.checkCB()}if(!a){return}if(c.changeCB){c.changeCB()}}function TextComboWidget_checkCB(){var a=this.par;if(a.checkCB){a.checkCB()}}function TextComboWidget_hideCB(){var a=this.parIcon;if(a.arrow){a.arrow.focus()}TextComboOutCB(a.index)}function TextComboWidget_arrowClickCB(){this.par.clickCB()}function TextComboWidget_clickCB(){var b=this,a=b.layer;b.menu.show(!b.menu.isShown(),getPosScrolled(a).x,getPosScrolled(a).y+b.getHeight()+1,null,null,b);TextComboOverCB(b.index)}function TextCombo_OverCB(){TextComboOverCB(getWidget(this).index);return true}function TextComboOverCB(a){var b=_allBOIconsMenus[a];IconWidget_overCB(b.arrow.index)}function TextCombo_OutCB(a){TextComboOutCB(getWidget(this).index)}function TextComboOutCB(a){var b=_allBOIconsMenus[a];if(!b.menu.isShown()){IconWidget_outCB(b.arrow.index)}else{IconWidget_overCB(b.arrow.index)}}function TextComboWidget_internalCB(){var a=this,b=a.parCombo;b.selectItem(a);if(b.changeCB){b.changeCB()}}function TextComboWidget_keyUpCB(){};