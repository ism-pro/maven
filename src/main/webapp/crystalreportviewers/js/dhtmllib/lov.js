function newLovWidget(b,m,p,r,h,e,n,a,g,l,f,k,q,i){_arrowSize=20;_refreshIcnSize=28;_searchIcnSize=40;_margin=2;_textFieldH=20;_searchMinW=20;var d=e?(p-(2*_arrowSize+_refreshIcnSize)):(p-(2*_arrowSize));var c=newWidget(b);c.width=p;c.lines=r;c.textField=newTextFieldWidget(b+"_textField",null,250,null,LovWidget_enterCB,true,_lovTextFieldLab,p);c.textField.par=c;c.dateField=newCalendarTextFieldButton(b+"_calendarText",null,null,null,null,LovWidget_enterCB,true,_lovCalendarLab,p);c.dateField.par=c;c.chunkLabel=newWidget(b+"_label");c.noChunkLabel=newWidget(b+"_noChunkLabel");c.prevChunkIcn=newIconWidget(b+"_prevChunk",_skin+"../lov.gif",LovWidget_prevCB,null,_lovPrevChunkLab,7,16,2*16,0,2*16,16);c.prevChunkIcn.par=c;c.chunkCombo=newComboWidget(b+"_chunk",LovWidget_comboCB,true,d,_lovComboChunkLab);c.chunkCombo.par=c;c.nextChunkIcn=newIconWidget(b+"_nextChunk",_skin+"../lov.gif",LovWidget_nextCB,null,_lovNextChunkLab,7,16,2*16+1*7,0,2*16+1*7,16);c.nextChunkIcn.par=c;c.refreshIcn=newIconWidget(b+"_refresh",_skin+"../lov.gif",LovWidget_refreshCB,null,_lovRefreshLab,16,16,16,0);c.refreshIcn.par=c;c.hideChunk_n_Refresh=false;var j=(f!=null)?f:false;c.lovList=newListWidget(b+"_lov",null,j,p,r,null,LovWidget_dblClickCB,LovWidget_ListKeyUpCB);c.lovList.par=c;c.lovSearch=newSearchWidget(b+"_searchVal",null,g);c.showTextField=h;c.showRefreshIcn=e;c.showTextOnly=i==null?false:i;c.chunkText=m;c.showDate=q==null?false:q;c.oldInit=c.init;c.goToChunk=LovWidget_goToChunk;c.setPrevNextIconState=LovWidget_setPrevNextIconState;c.moveCB=n;c.refreshCB=a;c.searchCB=g;c.dblClickCB=l;c.enterCB=k;c.init=LovWidget_init;c.getHTML=LovWidget_getHTML;c.resize=LovWidget_resize;c.addChunkElem=LovWidget_addChunkElem;c.addLOVElem=LovWidget_addLOVElem;c.fillChunk=LovWidget_fillChunk;c.fillLOV=LovWidget_fillLOV;c.getSearchValue=LovWidget_getSearchValue;c.setSearchValue=LovWidget_setSearchValue;c.getTextValue=LovWidget_getTextValue;c.setTextValue=LovWidget_setTextValue;c.getDateValue=LovWidget_getDateValue;c.setDateValue=LovWidget_setDateValue;c.getChunkSelection=LovWidget_getChunkSelection;c.getLOVSelection=LovWidget_getLOVSelection;c.setTooltips=LovWidget_setTooltips;c.change=LovWidget_change;c.showTextFieldOnly=LovWidget_showTextFieldOnly;c.setFormatDate=LovWidget_setFormatDate;c.isCaseSensitive=LovWidget_isCaseSensitive;c.setCaseSensitive=LovWidget_setCaseSensitive;c.updateWidget=LovWidget_updateWidget;return c}function LovWidget_getHTML(){var b=this,a="";a='<table id="'+b.id+'" class="dialogzone" border="0" cellspacing="0" cellpadding="0"><tbody>';a+='<tr><td colspan="4">'+b.textField.getHTML()+"</td></tr>";a+='<tr><td colspan="4">'+b.dateField.getHTML()+"</td></tr>";a+='<tr><td colspan="4"><span id="'+b.chunkLabel.id+'"></span></td></tr>';a+="<tr"+(b.hideChunk_n_Refresh?' style="display:none">':">")+'<td align="center">'+b.prevChunkIcn.getHTML()+'</td><td align="center">'+b.chunkCombo.getHTML()+'</td><td align="center">'+b.nextChunkIcn.getHTML()+'</td><td align="right"><table class="dialogzone" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td><span id="'+b.noChunkLabel.id+'"></span></td><td>'+b.refreshIcn.getHTML()+"</td></tr></tbody></table></td></tr>";a+='<tr><td colspan="4">'+b.lovList.getHTML()+"</td></tr>";a+='<tr><td colspan="4">'+b.lovSearch.getHTML()+"</td></tr></tbody></table>";return a}function LovWidget_init(){var a=this;a.oldInit();a.textField.init();a.textField.setDisplay(a.showTextField);a.dateField.init();a.dateField.setDisplay(a.showDate);if(a.showDate){a.textField.setDisplay(false)}a.chunkLabel.init();a.chunkLabel.setHTML(a.chunkText);a.noChunkLabel.init();a.noChunkLabel.setHTML(_lovRefreshValuesLab);a.noChunkLabel.setDisplay(false);a.prevChunkIcn.init();a.chunkCombo.init();a.nextChunkIcn.init();a.refreshIcn.init();a.refreshIcn.setDisplay(a.showRefreshIcn);a.lovList.init();a.lovSearch.init();a.showTextFieldOnly(a.showTextOnly);a.resize(a.width,a.lines)}function LovWidget_resize(b,a){var h=this;var e=b-_searchIcnSize;var d=(e<_searchMinW)?_searchMinW:e;var g=(e<_searchMinW)?((b+_searchMinW)-_margin):(b-_margin);var c=g;var f=h.showRefreshIcn?(g-(2*_arrowSize+_refreshIcnSize)):(g-(2*_arrowSize));if(h.showTextField){h.textField.resize(c)}if(h.showDate){h.dateField.resize(g)}h.chunkCombo.resize(f);h.lovList.resize(g);h.lovList.layer.size=a;h.lovSearch.resize(_searchIcnSize+d)}function LovWidget_addChunkElem(a,d,b,e){var c=this;c.chunkCombo.add(a,d,b,e)}function LovWidget_addLOVElem(a,d,b,e){var c=this;c.lovList.add(a,d,b,e)}function LovWidget_fillChunk(a,d){var c=this;c.chunkCombo.del();c.setPrevNextIconState();if(a==null){c.updateWidget();return}if(d==null){for(var b=0;b<a.length;b++){c.chunkCombo.add(a[b],a[b],false,b)}}else{for(var b=0;b<a.length;b++){c.chunkCombo.add(a[b],d[b],false,b)}}c.chunkCombo.select(0);c.setPrevNextIconState();c.updateWidget()}function LovWidget_fillLOV(a,d){var c=this;c.lovList.del();if(a==null){return}if(d==null){for(var b=0;b<a.length;b++){c.lovList.add(a[b],a[b],false,b)}}else{for(var b=0;b<a.length;b++){c.lovList.add(a[b],d[b],false,b)}}}function LovWidget_getSearchValue(){var a=this;return a.lovSearch.getSearchValue()}function LovWidget_setSearchValue(a){var b=this;b.lovSearch.setValue(a)}function LovWidget_getTextValue(){var a=this;return a.textField.getValue()}function LovWidget_setTextValue(a){var b=this;b.textField.setValue(a)}function LovWidget_getChunkSelection(){var a=this;return a.chunkCombo.getSelection()}function LovWidget_getLOVSelection(){var a=this;return a.lovList.getMultiSelection()}function LovWidget_getDateValue(){var a=this;return a.dateField.getValue()}function LovWidget_setDateValue(a){var b=this;b.dateField.setValue(a)}function LovWidget_setTooltips(h,f,e,d,c,b,a){var g=this;if(g.showTextField){g.textField.setTooltip(h)}g.prevChunkIcn.setTooltip(f);g.nextChunkIcn.setTooltip(e);if(g.showRefreshIcn){g.refreshIcn.setTooltip(d)}g.lovSearch.searchIcn.setTooltip(c);g.chunkCombo.setTooltip(b);g.lovList.setTooltip(a)}function LovWidget_goToChunk(b){var c=this;if(c.chunkCombo.getSelection()==null){return}var a=c.chunkCombo.getSelection().index;if(b!=null){c.chunkCombo.select(a+b)}c.setPrevNextIconState();if(c.moveCB!=null){c.moveCB()}}function LovWidget_setPrevNextIconState(){var b=this;if(!b.chunkCombo.getSelection()){b.chunkCombo.setDisabled(true);b.prevChunkIcn.setDisabled(true);b.nextChunkIcn.setDisabled(true)}else{b.chunkCombo.setDisabled(false)}var a=b.chunkCombo.getSelection().index;if(b.chunkCombo.getCount()==1){b.prevChunkIcn.setDisabled(true);b.nextChunkIcn.setDisabled(true);return}if(a==0){b.prevChunkIcn.setDisabled(true);b.nextChunkIcn.setDisabled(false);return}if((a+1)==b.chunkCombo.getCount()){b.prevChunkIcn.setDisabled(false);b.nextChunkIcn.setDisabled(true);return}b.prevChunkIcn.setDisabled(false);b.nextChunkIcn.setDisabled(false)}function LovWidget_change(j,l,n,f,c,k,a,e,i,d,h,m,g){var b=this;if(f!=null){b.showTextField=f;b.textField.setDisplay(b.showTextField)}if(c!=null){b.showRefreshIcn=c;b.refreshIcn.setDisplay(b.showRefreshIcn);b.updateWidget()}if(j!=null){b.chunkText=j;b.chunkLabel.setHTML(b.chunkText)}if(m!=null){b.showDate=m;b.dateField.setDisplay(b.showDate);if(b.showDate){b.textField.setDisplay(false)}}if(k!=null){b.moveCB=k}if(a!=null){b.refreshCB=a}if(e!=null){b.searchCB=e}if(i!=null){b.dblClickCB=i}if(h!=null){b.enterCB=h}b.lovList.change(d,n);b.showTextOnly=g==null?false:g;b.showTextFieldOnly(b.showTextOnly);if(b.showTextOnly){b.lovList.del()}}function LovWidget_isCaseSensitive(){return this.lovSearch.isCaseSensitive()}function LovWidget_setCaseSensitive(a){var c=this;c.lovSearch.setCaseSensitive(a)}function LovWidget_prevCB(){this.par.goToChunk(-1)}function LovWidget_nextCB(){this.par.goToChunk(+1)}function LovWidget_comboCB(){this.par.goToChunk(null)}function LovWidget_refreshCB(){var a=this.par;if(a.refreshCB!=null){a.refreshCB()}}function LovWidget_searchCB(){var a=this.par;if(a.searchCB!=null){a.searchCB()}}function LovWidget_enterCB(b){var a=this.par;if(a.enterCB!=null){a.enterCB(b)}}function LovWidget_ListKeyUpCB(c){var b=this.par;var a=eventGetKey(c);if((eventGetKey(c)==13)&&(b.enterCB!=null)){b.enterCB(c)}}function LovWidget_dblClickCB(){var a=this.par;if(a.dblClickCB!=null){a.dblClickCB()}}function LovWidget_clickCB(){}function LovWidget_showTextFieldOnly(a){var b=this;b.showTextOnly=a;if(b.showTextOnly==true){b.textField.setDisplay(true);b.dateField.setDisplay(false);b.chunkLabel.setDisplay(false);b.prevChunkIcn.setDisplay(false);b.chunkCombo.setDisplay(false);b.nextChunkIcn.setDisplay(false);b.refreshIcn.setDisplay(false);b.noChunkLabel.setDisplay(false);b.lovList.setDisplay(false);b.lovSearch.setDisplay(false)}else{b.textField.setDisplay(b.showTextField);b.dateField.setDisplay(b.showDate);if(b.showDate){b.textField.setDisplay(false)}b.chunkLabel.setDisplay(true);b.prevChunkIcn.setDisplay(true);b.chunkCombo.setDisplay(true);b.nextChunkIcn.setDisplay(true);b.refreshIcn.setDisplay(b.showRefreshIcn);b.lovList.setDisplay(true);b.lovSearch.setDisplay(true);b.updateWidget()}}function LovWidget_setFormatDate(e,c,a,d,b){var f=this;if(f.showDate&&f.dateField){f.dateField.setFormatInfo(e,c,a,d,b)}}function LovWidget_updateWidget(){var c=this;var a=(c.chunkCombo.getCount()>1);c.chunkLabel.setDisplay(a);c.prevChunkIcn.setDisplay(a);c.chunkCombo.setDisplay(a);c.nextChunkIcn.setDisplay(a);c.noChunkLabel.setDisplay(!a&&c.showRefreshIcn)};