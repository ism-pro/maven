if(typeof(bobj.crv.ReportPage)=="undefined"){bobj.crv.ReportPage={}}bobj.crv.ReportPage.DocumentView={WEB_LAYOUT:"weblayout",PRINT_LAYOUT:"printlayout"};bobj.crv.newReportPage=function(a){a=MochiKit.Base.update({id:bobj.uniqueId(),bgColor:"#FFFFFF",width:720,height:984,topMargin:0,rightMargin:0,leftMargin:0,bottomMargin:0,documentView:bobj.crv.ReportPage.DocumentView.PRINT_LAYOUT},a);var b=newWidget(a.id);b.widgetType="ReportPage";bobj.fillIn(b,a);b.initOld=b.init;b.resizeOld=b.resize;MochiKit.Base.update(b,bobj.crv.ReportPage);return b};bobj.crv.ReportPage.setHTML=function(c){var b=this._pageNode;bobj.removeAllChildElements(b);if(bobj.isString(c)){b.innerHTML=c}else{if(bobj.isObject(c)){b.appendChild(c);var a=c.style;a.display="block";a.visibility="visible"}}};bobj.crv.ReportPage.update=function(b,a){if(b&&b.cons=="bobj.crv.newReportPage"){this.updateSize({width:b.args.width,height:b.args.height,leftMargin:b.args.leftMargin,rightMargin:b.args.rightMargin,topMargin:b.args.topMargin,bottomMargin:b.args.bottomMargin});this.updateHTML(b.args.content);this.layer.scrollLeft=0;this.layer.scrollTop=0}};bobj.crv.ReportPage.loadContent=function(){if(this.content){this.updateHTML(this.content)}};bobj.crv.ReportPage.updateHTML=function(k){var a=this.id+"_stylesheet";var o=getLayer(a);var b="";if(k){var d=bobj.html.extractHtml(k);var q=d.links;for(var p=0,l=q.length;p<l;++p){bobj.includeLink(q[p])}var b="";for(var h=0,j=d.styles.length;h<j;h++){b+=d.styles[h].text+"\n"}if(o){MochiKit.DOM.removeElement(o)}bobj.addStyleSheet(b,a);this.setHTML(d.html);var f=d.scripts;for(var c=0,g=f.length;c<g;++c){var n=f[c];if(!n){continue}if(n.text){try{bobj.evalInWindow(n.text)}catch(e){}}}var m=this._pageNode.getElementsByTagName("div");if(m&&m[0]){m[0].style.position="relative";m[0].style.visibility="visible"}}};bobj.crv.ReportPage.updateSize=function(f){if(f){this.width=(f.width!=undefined)?f.width:this.width;this.height=(f.height!=undefined)?f.height:this.height;this.leftMargin=(f.leftMargin!=undefined)?f.leftMargin:this.leftMargin;this.rightMargin=(f.rightMargin!=undefined)?f.rightMargin:this.rightMargin;this.topMargin=(f.topMargin!=undefined)?f.topMargin:this.topMargin;this.bottomMargin=(f.bottomMargin!=undefined)?f.bottomMargin:this.bottomMargin}var d=bobj.isBorderBoxModel();var c=this.height+this.topMargin+this.bottomMargin;var a=this.width+this.leftMargin+this.rightMargin;var e=d?c:this.height;var b=d?a:this.width;if(this._pageCtnNode){this._pageCtnNode.style.width=a+"px";this._pageCtnNode.style.height=c+"px"}if(this._pageNode){this._pageNode.style.width=b+"px";this._pageNode.style.height=e+"px";this._pageNode.style.paddingTop=this.topMargin+"px";this._pageNode.style.paddingRight=this.rightMargin+"px";this._pageNode.style.paddingLeft=this.leftMargin+"px";this._pageNode.style.paddingBottom=this.bottomMargin+"px"}if(this._shadowNode){this._shadowNode.style.width=a+"px";this._shadowNode.style.height=c+"px"}};bobj.crv.ReportPage.getHTML=function(){var k=bobj.html;var c=bobj.isBorderBoxModel();var d={width:"100%",height:"100%",overflow:"auto",position:"absolute"};var g=this.height+this.topMargin+this.bottomMargin;var i=this.width+this.leftMargin+this.rightMargin;var m=c?g:this.height;var b=c?i:this.width;var a={left:"4px",width:i+"px",height:g+"px","text-align":"left",top:"4px",overflow:"visible",position:"relative"};if(_saf){a.display="table"}var l={position:"relative",width:b+"px",height:m+"px","z-index":1,"border-width":"1px","border-style":"solid","background-color":this.bgColor,"padding-top":this.topMargin+"px","padding-right":this.rightMargin+"px","padding-left":this.leftMargin+"px","padding-bottom":this.bottomMargin+"px"};var f={position:"absolute",filter:"progid:DXImageTransform.Microsoft.Blur(PixelRadius='2', MakeShadow='false', ShadowOpacity='0.75')","z-index":0,width:i+"px",height:g+"px",margin:"0 auto",left:(c?2:6)+"px",top:(c?2:6)+"px"};var e="";if(this.documentView.toLowerCase()==bobj.crv.ReportPage.DocumentView.PRINT_LAYOUT){d["background-color"]="#8E8E8E";l["border-color"]="#000000";f["background-color"]="#737373";e=k.DIV({id:this.id+"_shadow","class":"menuShadow",style:f});d["text-align"]="center";a.margin="0 auto"}else{d["background-color"]="#FFFFFF";l["border-color"]="#FFFFFF";a.margin="0"}var j=k.DIV({id:this.id,style:d,"class":"insetBorder"},k.DIV({id:this.id+"_pageCtn",style:a},k.DIV({id:this.id+"_page",style:l}),e));return j+bobj.crv.getInitHTML(this.widx)};bobj.crv.ReportPage.init=function(){this._pageCtnNode=getLayer(this.id+"_pageCtn");this._pageNode=getLayer(this.id+"_page");this._shadowNode=getLayer(this.id+"_shadow");this.initOld()};bobj.crv.ReportPage.resize=function(a,b){bobj.setOuterSize(this.layer,a,b);if(_moz){this.css.clip=bobj.getRect(0,a,b,0)}};bobj.crv.ReportPage.getBestFitSize=function(){var a=this._pageNode;return{width:a.offsetWidth+30,height:a.offsetHeight+30}};