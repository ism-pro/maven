bobj.crv.IOAdapterBase={request:function(){},addRequestField:function(a,b){},removeRequestField:function(a){},saveViewState:function(a,b){},getPostDataForPrinting:function(a,b){},processError:function(a){return a},canUseAjax:function(){try{return(MochiKit.Async.getXMLHttpRequest()!==null)}catch(a){return false}}};bobj.crv.ServletAdapter=function(b,a){this._pageUrl=b;this._servletUrl=a;this._form=null};bobj.crv.ServletAdapter._requestParams={STATE:"CRVCompositeViewState",TARGET:"CRVEventTarget",ARGUMENT:"CRVEventArgument"};bobj.crv.ServletAdapter.prototype=MochiKit.Base.merge(bobj.crv.IOAdapterBase,{request:function(d,g,c,h){if(!this._form){this._createForm()}var e=bobj.crv.ServletAdapter._requestParams;var a=MochiKit.Base.serializeJSON;this._form[e.STATE].value=encodeURIComponent(a(d));this._form[e.TARGET].value=encodeURIComponent(g);this._form[e.ARGUMENT].value=encodeURIComponent(a(c));var b=null;if(h&&this._servletUrl){var f=MochiKit.Async.getXMLHttpRequest();f.open("POST",this._servletUrl,true);f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");f.setRequestHeader("Accept","application/json");b=MochiKit.Async.sendXMLHttpRequest(f,MochiKit.Base.queryString(this._form))}else{this._form.submit()}this._form=null;return b},redirectToServlet:function(){if(!this._form){this._createForm()}this._form.action=this._servletUrl},_createForm:function(){var b=MochiKit.DOM;var a=bobj.crv.ServletAdapter._requestParams;this._form=b.FORM({name:bobj.uniqueId(),style:"display:none",method:"POST",enctype:"application/x-www-form-urlencoded;charset=utf-8",action:this._pageUrl},b.INPUT({type:"hidden",name:a.STATE}),b.INPUT({type:"hidden",name:a.TARGET}),b.INPUT({type:"hidden",name:a.ARGUMENT}));document.body.appendChild(this._form)},addRequestField:function(a,c){if(a&&c){if(!this._form){this._createForm()}var b=this._form[a];if(b){b.value=c}else{this._form.appendChild(MochiKit.DOM.INPUT({type:"hidden",name:a,value:c}))}}},removeRequestField:function(a){if(a){var c=this._form;if(c){var b=c[a];if(b){MochiKit.DOM.removeElement(b);if(c[a]){c[a]=null}}b=null}}},getPostDataForPrinting:function(c,e){var a=MochiKit.Base.serializeJSON;var d=bobj.crv.ServletAdapter._requestParams;var f=a(c);var b=d.STATE;b+="=";b+=encodeURIComponent(f);b+="&";b+=d.TARGET;b+="=";b+=encodeURIComponent(e);b+="&";b+=d.ARGUMENT;b+="=";b+=encodeURIComponent('"axprint="');if(document.getElementById("com.sun.faces.VIEW")){b+="&com.sun.faces.VIEW="+encodeURIComponent(document.getElementById("com.sun.faces.VIEW").value)}return b},processError:function(a){if(!(typeof(a.number)=="undefined")&&a.number==404){return L_bobj_crv_ServletMissing}return a}});bobj.crv.AspDotNetAdapter=function(d,a,e,c){this._postbackEventReference=d;this._replacementParameter=a;this._stateID=e;this._form=null;this._callbackEventReference=c;this._additionalReqFlds=null;var b=bobj.getElementByIdOrName(this._stateID);if(b){this._form=b.form}};bobj.crv.AspDotNetAdapter.prototype=MochiKit.Base.merge(bobj.crv.IOAdapterBase,{request:function(pageState,viewerName,eventArgs,allowAsync,callbackHandler,errbackHandler){var toJSON=MochiKit.Base.serializeJSON;if(eventArgs&&this._additionalReqFlds){eventArgs=MochiKit.Base.update(eventArgs,this._additionalReqFlds)}this._additionalReqFlds=null;var jsonEventArgs=toJSON(eventArgs);if(allowAsync){this.saveViewState(pageState,viewerName);if(typeof WebForm_InitCallback=="function"){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback()}var callback=this._callbackEventReference.replace("'arg'","jsonEventArgs");callback=callback.replace("'cb'","callbackHandler");callback=callback.replace("'errcb'","errbackHandler");callback=callback.replace("'frmID'","this._form.id");return eval(callback)}else{var postbackCall;if(this._postbackEventReference.indexOf("'"+this._replacementParameter+"'")>=0){postbackCall=this._postbackEventReference.replace("'"+this._replacementParameter+"'","jsonEventArgs")}else{postbackCall=this._postbackEventReference.replace('"'+this._replacementParameter+'"',"jsonEventArgs")}eval(postbackCall);this._clearEventFields()}},saveViewState:function(b,c){var a=MochiKit.Base.serializeJSON;var e=b[c];var d=bobj.getElementByIdOrName(this._stateID);if(d){d.value=a(e)}},getPostDataForPrinting:function(c,d){var b=MochiKit.DOM.formContents(this.form);var e=b[0];var a=b[1];e.push("crprint");a.push(d);var f=MochiKit.Base.queryString(e,a);return f},addRequestField:function(a,b){if(!this._additionalReqFlds){this._additionalReqFlds={}}this._additionalReqFlds[a]=b},_clearRequestField:function(a){if(a){if(this._form){var b=this._form[a];if(b){b.value=""}}}},_clearEventFields:function(){this._clearRequestField("__EVENTTARGET");this._clearRequestField("__EVENTARGUMENT")}});bobj.crv.FacesAdapter=function(a,b){this._formName=a;this._servletUrl=b;this._useServlet=false;if(!bobj.crv.FacesAdapter._hasInterceptedSubmit){this._interceptSubmit();bobj.crv.FacesAdapter._hasInterceptedSubmit=true}};bobj.crv.FacesAdapter._requestParams={STATE:"CRVCompositeViewState",TARGET:"CRVEventTarget",ARGUMENT:"CRVEventArgument"};bobj.crv.FacesAdapter.prototype=MochiKit.Base.merge(bobj.crv.IOAdapterBase,{request:function(h,j,b,a){var e=bobj.crv.FacesAdapter._requestParams;var i=MochiKit.Base.serializeJSON;var f=MochiKit.DOM.INPUT;var k=null;var c=this._getForm();if(!c){return}if(!c[e.TARGET]){c.appendChild(f({type:"hidden",name:e.TARGET}))}c[e.TARGET].value=encodeURIComponent(j);if(!c[e.ARGUMENT]){c.appendChild(f({type:"hidden",name:e.ARGUMENT}))}c[e.ARGUMENT].value=encodeURIComponent(i(b));if(!c[e.STATE]){c.appendChild(f({type:"hidden",name:e.STATE}))}c[e.STATE].value=encodeURIComponent(i(h));if(a&&this._servletUrl){var g=MochiKit.Async.getXMLHttpRequest();g.open("POST",this._servletUrl,true);g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");g.setRequestHeader("Accept","application/json");k=MochiKit.Async.sendXMLHttpRequest(g,MochiKit.Base.queryString(c))}else{var d=c.action;if(this._useServlet===true){c.action=this._servletUrl}c.submit();c.action=d;this._useServlet=false}c[e.TARGET].value="";c[e.ARGUMENT].value="";c[e.STATE].value="";this.removeRequestField("ServletTask");return k},redirectToServlet:function(){this._useServlet=true},addRequestField:function(a,c){if(a&&c){var d=this._getForm();if(d){var b=d[a];if(b){b.value=c}else{d.appendChild(MochiKit.DOM.INPUT({type:"hidden",name:a,value:c}))}}}},removeRequestField:function(a){if(a){var c=this._getForm();if(c){var b=c[a];if(b){MochiKit.DOM.removeElement(b);if(c[a]){c[a]=null}}b=null}}},saveViewState:function(c,f){if(!bobj.crv.FacesAdapter._isStateSaved){var e=this._getForm();if(e){var d=bobj.crv.FacesAdapter._requestParams;var a=MochiKit.Base.serializeJSON;var b=MochiKit.DOM.INPUT;if(!e[d.STATE]){e.appendChild(b({type:"hidden",name:d.STATE}))}e[d.STATE].value=encodeURIComponent(a(c))}bobj.crv.FacesAdapter._isStateSaved=true}},_getForm:function(){return document.forms[this._formName]},_interceptSubmit:function(){var b=this._getForm();if(b){var a=b.submit;b.submit=function(){bobj.event.publish("saveViewState");b.submit=a;b.submit()}}},getPostDataForPrinting:function(c,e){var a=MochiKit.Base.serializeJSON;var d=bobj.crv.ServletAdapter._requestParams;var f=a(c);var b=d.STATE;b+="=";b+=encodeURIComponent(f);b+="&";b+=d.TARGET;b+="=";b+=encodeURIComponent(e);b+="&";b+=d.ARGUMENT;b+="=";b+=encodeURIComponent('"axprint="');if(document.getElementById("com.sun.faces.VIEW")){b+="&com.sun.faces.VIEW="+encodeURIComponent(document.getElementById("com.sun.faces.VIEW").value)}return b},processError:function(a){if(!(typeof(a.number)=="undefined")&&a.number==404){return L_bobj_crv_ServletMissing}return a}});