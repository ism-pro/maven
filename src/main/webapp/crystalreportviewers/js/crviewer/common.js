if(typeof bobj=="undefined"){bobj={}}if(typeof bobj.constants=="undefined"){bobj.constants={modalLayerIndex:1000}}bobj.uniqueId=function(){return"bobjid_"+(++bobj.uniqueId._count)};if(typeof bobj.uniqueId._count=="undefined"){bobj.uniqueId._count=new Date().getTime()}bobj.updateIf=function(g,c,e){if(c===null){c={}}for(var d=1,a=arguments.length;d<a;d++){var f=arguments[d];if(typeof(f)!="undefined"&&f!==null){for(var b in f){if(g(c,e,b)){c[b]=f[b]}}}}return c};bobj.fillIn=MochiKit.Base.partial(bobj.updateIf,function(b,c,a){return(typeof(b[a])=="undefined")});bobj.isObject=function(a){return(a&&typeof a=="object")};bobj.isArray=function(a){return(bobj.isObject(a)&&a.constructor==Array)};bobj.isString=function(a){return(typeof(a)=="string")};bobj.isNumber=function(a){return typeof(a)=="number"&&isFinite(a)};bobj.isBoolean=function(a){return typeof a=="boolean"};bobj.isFunction=function(a){return typeof(a)=="function"};bobj.isBorderBoxModel=function(){if(typeof bobj.isBorderBoxModel._cachedValue=="undefined"){if(document.body){var a=document.createElement("div");a.style.width="10px";a.style.padding="1px";a.style.position="absolute";a.style.visibility="hidden";document.body.appendChild(a);bobj.isBorderBoxModel._cachedValue=(a.offsetWidth==10);document.body.removeChild(a)}else{return _ie&&bobj.isQuirksMode()}}return bobj.isBorderBoxModel._cachedValue};bobj.isQuirksMode=function(){return(document.compatMode!="CSS1Compat")};bobj.setVisualStyle=function(b,c){if(b===null||c===null){return}var a=b.style;if(c.className){b.className=c.className}if(c.backgroundColor){a.backgroundColor=c.backgroundColor}if(c.borderWidth){a.borderWidth=c.borderWidth}if(c.borderStyle){a.borderStyle=c.borderStyle}if(c.borderColor){a.borderColor=c.borderColor}if(c.fontFamily){a.fontFamily=c.fontFamily}if(c.fontWeight){a.fontWeight=c.fontWeight}if(c.textDecoration){a.textDecoration=c.textDecoration}if(c.color){a.color=c.color}if(c.width){a.width=c.width}if(c.height){a.height=c.height}if(c.fontStyle){a.fontStyle=c.fontStyle}if(c.fontSize){a.fontSize=c.fontSize}if(c.left){a.left=c.left}if(c.top){a.top=c.top}};bobj.setOuterSize=function(e,b,d,c){var g=null;var a=e.style;if(a.display=="none"){g={visibility:a.visibility,position:a.position,display:"none"};a.visibility="hidden";a.position="absolute";a.display=""}function f(h){var i=MochiKit.DOM.getStyle(e,h);if(bobj.isString(i)&&i.substring(i.length-2=="px")){return(parseInt(i,10)||0)}return 0}if(bobj.isNumber(b)){if(!bobj.isBorderBoxModel()){b-=f("border-left-width");b-=f("border-right-width");b-=f("padding-left");b-=f("padding-right");if(c){b-=f("margin-left");b-=f("margin-right")}}a.width=Math.max(0,b)+"px"}if(bobj.isNumber(d)){if(!bobj.isBorderBoxModel()){if(c){d-=f("margin-top");d-=f("margin-bottom")}d-=f("border-top-width");d-=f("border-bottom-width");d-=f("padding-top");d-=f("padding-bottom")}a.height=Math.max(0,d)+"px"}if(g){a.display=g.display;a.position=g.position;a.visibility=g.visibility}};bobj.placeElement=function(d,i,h,c,o){var l=d.style;var a=l.visibility||"visible";l.visibility="hidden";l.position="absolute";var b=l.display;l.display="";var f=i;var e=h;var g=d.offsetWidth;var m=d.offsetHeight;var k=getScrollX();var j=getScrollX()+winWidth();var r=getScrollY();var q=getScrollY()+winHeight();var n;if(c&&((i-k)>g)){n=false}else{if((j-i)>g){n=true}else{n=(j-i)>(i-k)}}var p;if(o&&((h-r)>m)){p=false}else{if((q-h)>m){p=true}else{p=(q-h)>(h-r)}}if(!n){f-=g}if(!p){e-=m}if((f+g)>j){f=j-g}if((e+m)>q){e=q-m}f=Math.max(k,f);e=Math.max(r,e);l.left=f+"px";l.top=e+"px";l.visibility=a;l.display=b};bobj.getContainer=function(a){if(a&&a.layer){return a.layer.parentNode}return null};bobj.checkParent=function(d,b){var a=false;if(d&&b){b=b.toUpperCase();var c=d.parentNode;while(c){if(c.tagName==b){a=true;break}c=c.parentNode}}return a};bobj.slice=function(a,f,c){if(bobj.isArray(a)){return a.slice(f,c)}else{if(MochiKit.Base.isArrayLike(a)){var b=[];var e=a.length;if(bobj.isNumber(c)&&c<e){e=c}f=Math.max(f,0);for(var d=f;d<e;++d){b.push(a[d])}return b}}return null};bobj.extractRange=function(d,g,a){if(d&&bobj.isNumber(g)){if(!bobj.isNumber(a)||a>d.length){a=d.length}g=Math.max(0,g);if(g<a){var c=0,f=g;var b=a,e=d.length;if(d.substring){return(d.substring(c,f)+d.substring(b,e))}else{return bobj.slice(d,c,f).concat(bobj.slice(d,b,e))}}}return d};bobj.unitValue=function(b,a){if(bobj.isNumber(b)){return b+(a||"px")}return b};bobj.evalInWindow=function(expression){if(window.execScript){return window.execScript(expression)}else{return MochiKit.Base.bind(eval,window,expression).call()}};bobj.trimLeft=function(a){a=a||"";return a.replace(/^\s+/g,"")};bobj.trimRight=function(a){a=a||"";return a.replace(/\s+$/g,"")};bobj.trim=function(a){return bobj.trimLeft(bobj.trimRight(a))};bobj.equals=function(b,a){if(typeof(b)!=typeof(a)){return false}if(bobj.isObject(b)){var d=true;for(var c in b){d=d&&bobj.equals(b[c],a[c])}return d}else{return b==a}};bobj.includeLink=function(b){var c=document.getElementsByTagName("head")[0];var a=document.body;var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("type","text/css");d.setAttribute("href",b);if(c){c.appendChild(d)}else{if(a){a.appendChild(d)}}};bobj.addStyleSheet=function(c,e){var d=document.createElement("style");d.setAttribute("type","text/css");if(e){d.setAttribute("id",e)}if(d.styleSheet){d.styleSheet.cssText=c}else{d.appendChild(document.createTextNode(c))}var b=document.getElementsByTagName("head");var a=document.getElementsByTagName("body");if(b&&b[0]){b[0].appendChild(d)}else{if(a&&a[0]){a[0].appendChild(d)}}};bobj.removeAllChildElements=function(a){if(a){while(a.firstChild){bobj.removeAllChildElements(a.firstChild);a.removeChild(a.firstChild)}}};bobj.getValueHashCode=function(c,a){var b=bobj.crv.params.DataTypes;switch(c){case b.BOOLEAN:case b.CURRENCY:case b.NUMBER:case b.STRING:return""+a;case b.TIME:return""+a.h+","+a.min+","+a.s+","+a.ms;case b.DATE:return""+a.y+","+a.m+","+a.d;case b.DATE_TIME:return""+a.y+","+a.m+","+a.d+","+a.h+","+a.min+","+a.s+","+a.ms}};bobj.encodeUTF8=function(b){var a=[];var f=b.length;for(var e=0;e<f;e++){var g=b.charCodeAt(e);if(g<128){a.push(g)}else{if(g<2048){a.push((g>>6)|192);a.push(g&63|128)}else{if(g<55296||g>=57344){a.push((g>>12)|224);a.push((g>>6)&63|128);a.push(g&63|128)}else{if(g<56320){var d=b.charCodeAt(e+1);if(isNaN(d)||d<56320||d>=57344){a.push(239,191,189);continue}e++;val=((g&1023)<<10)|(d&1023);val+=65536;a.push((val>>18)|240);a.push((val>>12)&63|128);a.push((val>>6)&63|128);a.push(val&63|128)}else{a.push(239,191,189)}}}}}return a};bobj.encodeBASE64=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var g=[];var f,d,c,m,k,j,h;var e=0,l=a.length;while(e<l){f=a[e++];d=a[e++];c=a[e++];m=f>>2;k=((f&3)<<4)|(d>>4);j=((d&15)<<2)|(c>>6);h=c&63;if(isNaN(d)){j=h=64}else{if(isNaN(c)){h=64}}g.push(b.charAt(m));g.push(b.charAt(k));g.push(b.charAt(j));g.push(b.charAt(h))}return g.join("")};bobj.getElementByIdOrName=function(b){if(!b){return null}var c=document.getElementById(b);if(c){return c}var a=document.getElementsByName(b);if(a&&a.length>0){return a[0]}return null};bobj.getRect=function(d,b,a,c){return"rect("+d+"px, "+b+"px,"+a+"px,"+c+"px)"};bobj.getBodyScrollDimension=function(){var a=0;var c=0;var b=document.getElementsByTagName("Body");if(b&&b[0]){a=b[0].scrollWidth;c=b[0].scrollHeight}return{w:a,h:c}};