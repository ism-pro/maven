if(typeof(bobj.html)=="undefined"){bobj.html={}}bobj.html.openTag=function(b,g){var e="<"+b;for(var d in g){if(d in Object.prototype){continue}e+=" "+d+'="';var f=g[d];if(bobj.isArray(f)){f=f.join(" ")}else{if(bobj.isObject(f)){var a="";for(var c in f){if(c in Object.prototype){continue}a+=c+":"+f[c]+";"}f=a}}e+=f+'"'}return e+">"};bobj.html.closeTag=function(a){return"</"+a+">"};bobj.html.createHtml=function(a,e,b){var d=bobj.html.openTag(a,e);for(var c=2;c<arguments.length;++c){d+=arguments[c]}d+=bobj.html.closeTag(a);return d};bobj.html.TABLE=MochiKit.Base.partial(bobj.html.createHtml,"table");bobj.html.UL=MochiKit.Base.partial(bobj.html.createHtml,"ul");bobj.html.OL=MochiKit.Base.partial(bobj.html.createHtml,"ol");bobj.html.LI=MochiKit.Base.partial(bobj.html.createHtml,"li");bobj.html.TD=MochiKit.Base.partial(bobj.html.createHtml,"td");bobj.html.TR=MochiKit.Base.partial(bobj.html.createHtml,"tr");bobj.html.TBODY=MochiKit.Base.partial(bobj.html.createHtml,"tbody");bobj.html.THEAD=MochiKit.Base.partial(bobj.html.createHtml,"thead");bobj.html.TFOOT=MochiKit.Base.partial(bobj.html.createHtml,"tfoot");bobj.html.TABLE=MochiKit.Base.partial(bobj.html.createHtml,"table");bobj.html.TH=MochiKit.Base.partial(bobj.html.createHtml,"th");bobj.html.INPUT=MochiKit.Base.partial(bobj.html.createHtml,"input");bobj.html.SPAN=MochiKit.Base.partial(bobj.html.createHtml,"span");bobj.html.A=MochiKit.Base.partial(bobj.html.createHtml,"a");bobj.html.DIV=MochiKit.Base.partial(bobj.html.createHtml,"div");bobj.html.IMG=MochiKit.Base.partial(bobj.html.createHtml,"img");bobj.html.BUTTON=MochiKit.Base.partial(bobj.html.createHtml,"button");bobj.html.TT=MochiKit.Base.partial(bobj.html.createHtml,"tt");bobj.html.PRE=MochiKit.Base.partial(bobj.html.createHtml,"pre");bobj.html.H1=MochiKit.Base.partial(bobj.html.createHtml,"h1");bobj.html.H2=MochiKit.Base.partial(bobj.html.createHtml,"h2");bobj.html.H3=MochiKit.Base.partial(bobj.html.createHtml,"h3");bobj.html.BR=MochiKit.Base.partial(bobj.html.createHtml,"br");bobj.html.HR=MochiKit.Base.partial(bobj.html.createHtml,"hr");bobj.html.LABEL=MochiKit.Base.partial(bobj.html.createHtml,"label");bobj.html.TEXTAREA=MochiKit.Base.partial(bobj.html.createHtml,"textarea");bobj.html.FORM=MochiKit.Base.partial(bobj.html.createHtml,"form");bobj.html.P=MochiKit.Base.partial(bobj.html.createHtml,"p");bobj.html.SELECT=MochiKit.Base.partial(bobj.html.createHtml,"select");bobj.html.OPTION=MochiKit.Base.partial(bobj.html.createHtml,"option");bobj.html.OPTGROUP=MochiKit.Base.partial(bobj.html.createHtml,"optgroup");bobj.html.LEGEND=MochiKit.Base.partial(bobj.html.createHtml,"legend");bobj.html.FIELDSET=MochiKit.Base.partial(bobj.html.createHtml,"fieldset");bobj.html.STRONG=MochiKit.Base.partial(bobj.html.createHtml,"strong");bobj.html.CANVAS=MochiKit.Base.partial(bobj.html.createHtml,"canvas");bobj.html.IFRAME=MochiKit.Base.partial(bobj.html.createHtml,"iframe");bobj.html.SCRIPT=MochiKit.Base.partial(bobj.html.createHtml,"script");bobj.html.extractScripts=function(g){var f=/(?:<script([^>]*)\/>|<script([^>]*)>([\s\S]*?)<\/script>)/i;var d=/src=\"([^\"]*)\"/i;var a=[];var e=null;while(e=f.exec(g)){var c={src:null,text:null};var b=e[1]||e[2];if(b=d.exec(b)){c.src=b[1]}if(e[3]){c.text=e[3]}a.push(c);g=bobj.extractRange(g,e.index,e.index+e[0].length)}return{scripts:a,html:g}};bobj.html.extractHtml=function(a){var d=bobj.html.extractScripts(a);var c=bobj.html.extractLinks(d.html);var b=bobj.html.extractStyles(c.html);return{scripts:d.scripts,html:b.html,links:c.links,styles:b.styles}};bobj.html.extractLinks=function(e){var d=/<link([^>]*)>/i;var f=/href=\"([^\"]*)\"/i;var b=[];var c=null;while(c=d.exec(e)){var a=f.exec(c);if(a&&a.length>0){b.push(a[1])}e=bobj.extractRange(e,c.index,c.index+c[0].length)}return{links:b,html:e}};bobj.html.extractStyles=function(f){var c=/<style([^>]*)>([\s\S]*?)<\/style>/i;var i=/type=\"([^\"]*)\"/i;var e=/media=\"([^\"]*)\"/i;var h=[];var g=null;while(g=c.exec(f)){var b={media:null,type:null,text:g[2]};var a=i.exec(g[1]);if(a){b.type=a[1]}var d=e.exec(g[1]);if(d){b.media=d[1]}h.push(b);f=bobj.extractRange(f,g.index,g.index+g[0].length)}return{styles:h,html:f}};