if(typeof(dojo)!="undefined"){dojo.provide("MochiKit.DateTime")}if(typeof(MochiKit)=="undefined"){MochiKit={}}if(typeof(MochiKit.DateTime)=="undefined"){MochiKit.DateTime={}}MochiKit.DateTime.NAME="MochiKit.DateTime";MochiKit.DateTime.VERSION="1.4";MochiKit.DateTime.__repr__=function(){return"["+this.NAME+" "+this.VERSION+"]"};MochiKit.DateTime.toString=function(){return this.__repr__()};MochiKit.DateTime.isoDate=function(b){b=b+"";if(typeof(b)!="string"||b.length===0){return null}var a=b.split("-");if(a.length===0){return null}return new Date(a[0],a[1]-1,a[2])};MochiKit.DateTime._isoRegexp=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;MochiKit.DateTime.isoTimestamp=function(h){h=h+"";if(typeof(h)!="string"||h.length===0){return null}var g=h.match(MochiKit.DateTime._isoRegexp);if(typeof(g)=="undefined"||g===null){return null}var i,e,j,b,c,d,a;i=parseInt(g[1],10);if(typeof(g[2])=="undefined"||g[2]===""){return new Date(i)}e=parseInt(g[2],10)-1;j=parseInt(g[3],10);if(typeof(g[4])=="undefined"||g[4]===""){return new Date(i,e,j)}b=parseInt(g[4],10);c=parseInt(g[5],10);d=(typeof(g[6])!="undefined"&&g[6]!=="")?parseInt(g[6],10):0;if(typeof(g[7])!="undefined"&&g[7]!==""){a=Math.round(1000*parseFloat("0."+g[7]))}else{a=0}if((typeof(g[8])=="undefined"||g[8]==="")&&(typeof(g[9])=="undefined"||g[9]==="")){return new Date(i,e,j,b,c,d,a)}var f;if(typeof(g[9])!="undefined"&&g[9]!==""){f=parseInt(g[10],10)*3600000;if(typeof(g[11])!="undefined"&&g[11]!==""){f+=parseInt(g[11],10)*60000}if(g[9]=="-"){f=-f}}else{f=0}return new Date(Date.UTC(i,e,j,b,c,d,a)-f)};MochiKit.DateTime.toISOTime=function(c,b){if(typeof(c)=="undefined"||c===null){return null}var e=c.getHours();var f=c.getMinutes();var d=c.getSeconds();var a=[((b&&(e<10))?"0"+e:e),((f<10)?"0"+f:f),((d<10)?"0"+d:d)];return a.join(":")};MochiKit.DateTime.toISOTimestamp=function(c,a){if(typeof(c)=="undefined"||c===null){return null}var b=a?"T":" ";var d=a?"Z":"";if(a){c=new Date(c.getTime()+(c.getTimezoneOffset()*60000))}return MochiKit.DateTime.toISODate(c)+b+MochiKit.DateTime.toISOTime(c,a)+d};MochiKit.DateTime.toISODate=function(a){if(typeof(a)=="undefined"||a===null){return null}var b=MochiKit.DateTime._padTwo;return[a.getFullYear(),b(a.getMonth()+1),b(a.getDate())].join("-")};MochiKit.DateTime.americanDate=function(c){c=c+"";if(typeof(c)!="string"||c.length===0){return null}var b=c.split("/");return new Date(b[2],b[0]-1,b[1])};MochiKit.DateTime._padTwo=function(a){return(a>9)?a:"0"+a};MochiKit.DateTime.toPaddedAmericanDate=function(a){if(typeof(a)=="undefined"||a===null){return null}var b=MochiKit.DateTime._padTwo;return[b(a.getMonth()+1),b(a.getDate()),a.getFullYear()].join("/")};MochiKit.DateTime.toAmericanDate=function(a){if(typeof(a)=="undefined"||a===null){return null}return[a.getMonth()+1,a.getDate(),a.getFullYear()].join("/")};MochiKit.DateTime.EXPORT=["isoDate","isoTimestamp","toISOTime","toISOTimestamp","toISODate","americanDate","toPaddedAmericanDate","toAmericanDate"];MochiKit.DateTime.EXPORT_OK=[];MochiKit.DateTime.EXPORT_TAGS={":common":MochiKit.DateTime.EXPORT,":all":MochiKit.DateTime.EXPORT};MochiKit.DateTime.__new__=function(){var b=this.NAME+".";for(var a in this){var d=this[a];if(typeof(d)=="function"&&typeof(d.NAME)=="undefined"){try{d.NAME=b+a}catch(c){}}}};MochiKit.DateTime.__new__();if(typeof(MochiKit.Base)!="undefined"){MochiKit.Base._exportSymbols(this,MochiKit.DateTime)}else{(function(d,b){if((typeof(JSAN)=="undefined"&&typeof(dojo)=="undefined")||(MochiKit.__export__===false)){var c=b.EXPORT_TAGS[":all"];for(var a=0;a<c.length;a++){d[c[a]]=b[c[a]]}}})(this,MochiKit.DateTime)};