function HndJsSeResultScore(){this.aScores=[]}HndJsSeResultScore.prototype.Clear=function(){this.aScores.length=0};HndJsSeResultScore.prototype.AddTopics=function(f){for(var e=0;e<f.length;e++){for(var h=!1,g=0;g<this.aScores.length;g++){if(this.aScores[g][0]==f[e][0]){this.aScores[g][1]+=f[e][1];h=!0;break}}h||this.aScores.push(f[e])}};HndJsSeResultScore.prototype.ExcludeTopics=function(b){this.aScores=$.grep(this.aScores,function(a,f){for(var e=0;e<b.length;e++){if(a[0]==b[e][0]){return !1}}return !0})};HndJsSeResultScore.prototype.SortByScore=function(){this.aScores.sort(function(d,c){return d[1]>c[1]?-1:d[1]<c[1]?1:0})};function HndJsSe(){this.sInput="";this.aResults=[];this.aResultScoreIncluded=new HndJsSeResultScore;this.aResultScoreMandatory=new HndJsSeResultScore;this.aResultScoreExcluded=new HndJsSeResultScore;this.aInputIncluded=[];this.aInputMandatory=[];this.aInputExcluded=[]}HndJsSe.prototype.ParseInput=function(e){var d=/[-+]?"[^"]+"|[-+]?[^"\s]+/g,f;this.aInputIncluded.length=0;this.aInputMandatory.length=0;this.aInputExcluded.length=0;for(this.sInput=e;e=d.exec(this.sInput);){if(e[0]&&(e=$.trim(e[0]).toLowerCase(),""!=e)){f="";if("-"===e[0]||"+"===e[0]){f=e[0],e=e.substr(1)}'"'===e[0]&&(e=e.substr(1));'"'===e[e.length-1]&&(e=e.substr(0,e.length-1));"-"===f?this.aInputExcluded.push(e):"+"===f?this.aInputMandatory.push(e):this.aInputIncluded.push(e)}}};HndJsSe.prototype.AddTopics=function(g,f){for(var j=0;j<g.length;j++){for(var i=!1,h=0;h<f.length;h++){if(f[h][0]==g[j][0]){f[h][1]+=g[j][1];i=!0;break}}i||f.push(g[j])}};HndJsSe.prototype.PerformSearch=function(){this.aResults.length=0;this.aResultScoreIncluded.Clear();this.aResultScoreMandatory.Clear();this.aResultScoreExcluded.Clear();for(var d=0;d<oWl.length-1;d+=2){for(var c=0;c<this.aInputIncluded.length;c++){-1!==oWl[d].indexOf(this.aInputIncluded[c])&&this.aResultScoreIncluded.AddTopics(oWl[d+1])}for(c=0;c<this.aInputMandatory.length;c++){-1!==oWl[d].indexOf(this.aInputMandatory[c])&&this.aResultScoreMandatory.AddTopics(oWl[d+1])}for(c=0;c<this.aInputExcluded.length;c++){-1!==oWl[d].indexOf(this.aInputExcluded[c])&&this.aResultScoreExcluded.AddTopics(oWl[d+1])}}this.aResultScoreIncluded.AddTopics(this.aResultScoreMandatory.aScores);this.aResultScoreIncluded.ExcludeTopics(this.aResultScoreExcluded.aScores);this.aResultScoreIncluded.SortByScore();this.aResults=this.aResultScoreIncluded.aScores};