PrimeFaces.widget.ColumnFilterPanel=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);this.content=this.jq.children("div.ui-overlaypanel-content");this.cfg.my=this.cfg.my||"left top";this.cfg.at=this.cfg.at||"left bottom";this.cfg.showEvent=this.cfg.showEvent||"click.ui-overlaypanel";this.cfg.hideEvent=this.cfg.hideEvent||"click.ui-overlaypanel";this.cfg.dismissable=(this.cfg.dismissable===false)?false:true;if(this.cfg.showCloseIcon){this.closerIcon=$('<a href="#" class="ui-overlaypanel-close ui-state-default" href="#"><span class="ui-icon ui-icon-closethick"></span></a>').appendTo(this.jq)}if(this.jq.length>1){$(document.body).children(this.jqId).remove();this.jq=$(this.jqId)}if(this.cfg.appendToBody){this.jq.appendTo(document.body)}this.bindCommonEvents();if(this.cfg.target){this.target=PrimeFaces.expressions.SearchExpressionFacade.resolveComponentsAsSelector(this.cfg.target);this.bindTargetEvents();this.setupDialogSupport()}},bindTargetEvents:function(){var b=this;this.target.data("primefaces-overlay-target",this.id).find("*").data("primefaces-overlay-target",this.id);if(this.cfg.showEvent===this.cfg.hideEvent){var d=this.cfg.showEvent;this.target.on(d,function(e){b.toggle()})}else{var c=this.cfg.showEvent+".ui-overlaypanel",a=this.cfg.hideEvent+".ui-overlaypanel";this.target.off(c+" "+a).on(c,function(e){if(!b.isVisible()){b.show();if(c==="contextmenu.ui-overlaypanel"){e.preventDefault()}}}).on(a,function(e){if(b.isVisible()){b.hide()}})}b.target.off("keydown.ui-overlaypanel keyup.ui-overlaypanel").on("keydown.ui-overlaypanel",function(f){var e=$.ui.keyCode,g=f.which;if(g===e.ENTER||g===e.NUMPAD_ENTER){f.preventDefault()}}).on("keyup.ui-overlaypanel",function(f){var e=$.ui.keyCode,g=f.which;if(g===e.ENTER||g===e.NUMPAD_ENTER){b.toggle();f.preventDefault()}})},bindCommonEvents:function(){var a=this;if(this.cfg.showCloseIcon){this.closerIcon.on("mouseover.ui-overlaypanel",function(){$(this).addClass("ui-state-hover")}).on("mouseout.ui-overlaypanel",function(){$(this).removeClass("ui-state-hover")}).on("click.ui-overlaypanel",function(d){a.hide();d.preventDefault()})}if(this.cfg.dismissable){var c="mousedown."+this.id;$(document.body).off(c).on(c,function(d){if(a.jq.hasClass("ui-overlay-hidden")){return}if(a.target){var f=$(d.target);if(a.target.is(f)||a.target.has(f).length>0){return}}var e=a.jq.offset();if(d.pageX<e.left||d.pageX>e.left+a.jq.outerWidth()||d.pageY<e.top||d.pageY>e.top+a.jq.outerHeight()){a.hide()}})}var b="resize."+this.id;$(window).off(b).on(b,function(){if(a.jq.hasClass("ui-overlay-visible")){a.align()}})},toggle:function(){if(!this.isVisible()){this.show()}else{this.hide()}},show:function(a){if(!this.loaded&&this.cfg.dynamic){this.loadContents(a)}else{this._show(a)}},_show:function(b){var a=this;this.align(b);this.jq.removeClass("ui-overlay-hidden").addClass("ui-overlay-visible").css({display:"none",visibility:"visible"});if(this.cfg.showEffect){this.jq.show(this.cfg.showEffect,{},200,function(){a.postShow()})}else{this.jq.show();this.postShow()}},align:function(c){var a=this.jq.css("position")=="fixed",b=$(window),d=a?"-"+b.scrollLeft()+" -"+b.scrollTop():null,e=c||this.cfg.target;this.jq.css({left:"",top:"","z-index":++PrimeFaces.zindex}).position({my:this.cfg.my,at:this.cfg.at,of:document.getElementById(e),offset:d})},hide:function(){var a=this;if(this.cfg.hideEffect){this.jq.hide(this.cfg.hideEffect,{},200,function(){a.postHide()})}else{this.jq.hide();this.postHide()}},postShow:function(){if(this.cfg.onShow){this.cfg.onShow.call(this)}this.applyFocus()},postHide:function(){this.jq.removeClass("ui-overlay-visible").addClass("ui-overlay-hidden").css({display:"block",visibility:"hidden"});if(this.cfg.onHide){this.cfg.onHide.call(this)}},setupDialogSupport:function(){var a=this.target.closest(".ui-dialog");if(a.length==1){this.jq.css("position","fixed");if(!this.cfg.appendToBody){this.jq.appendTo(document.body)}}},loadContents:function(a){var c=this,b={source:this.id,process:this.id,update:this.id,params:[{name:this.id+"_contentLoad",value:true}],onsuccess:function(e,f,d){PrimeFaces.ajax.Response.handle(e,f,d,{widget:c,handle:function(g){this.content.html(g);this.loaded=true}});return true},oncomplete:function(){c._show(a)}};PrimeFaces.ajax.Request.handle(b)},isVisible:function(){return this.jq.hasClass("ui-overlay-visible")},applyFocus:function(){this.jq.find(":not(:submit):not(:button):input:visible:enabled:first").focus()}});