<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="NonConformiteRequestEditDlg" widgetVar="NonConformiteRequestEditDialog"
                  dynamic="true" showEffect="clip"  hideEffect="clip"
                  modal="true" resizable="false" appendTo="@(body)" 
                  header="#{ism.NonConformiteRequestTitleEdit}"
                  closable="false"
                  >

            <h:form id="NonConformiteRequestEditForm">
                <h:panelGroup id="display">
                    <p:panelGrid columns="2" rendered="#{nonConformiteRequestController.selected != null}" >
                        <p:panelGrid columns="2" >


                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrOccured}" for="ncrOccured" />
                            <p:calendar id="ncrOccured" pattern="dd/MM/yyyy" 
                                        value="#{nonConformiteRequestController.selected.ncrOccured}" 
                                        title="#{ism.NonConformiteRequestFieldInfo_ncrOccured}" 
                                        maxdate="#{appUtil.maintenant}"
                                        required="true" 
                                        requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrOccured}" 
                                        mode="popup" showOn="button"
                                        locale="fr" navigator="true"
                                        showButtonPanel="true"
                                        effect="slideDown"
                                        size="33"

                                        />

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrProcessus}" for="ncrProcessus" />
                            <p:selectOneMenu id="ncrProcessus" value="#{nonConformiteRequestController.selected.ncrProcessus}" 
                                             required="true" 
                                             requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrProcessus}"
                                             style="width: 256px;"
                                             >
                                <f:selectItem itemLabel="#{ism.NonConformiteRequestMsgSelectProcessus}" itemValue=""/>
                                <f:selectItems value="#{processusController.itemsAvailableSelectOne}"
                                               var="item"
                                               itemLabel="#{item.PProcessus} - #{item.PDesignation}"
                                               itemValue="#{item}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrProduct}" for="ncrProduct" />
                            <p:inputText id="ncrProduct" 
                                         value="#{nonConformiteRequestController.selected.ncrProduct}" 
                                         title="#{ism.NonConformiteRequestFieldInfo_ncrProduct}" 
                                         size="33"
                                         />

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrTrace}" for="ncrTrace" />
                            <p:inputText id="ncrTrace" 
                                         value="#{nonConformiteRequestController.selected.ncrTrace}" 
                                         title="#{ism.NonConformiteRequestFieldInfo_ncrTrace}"
                                         size="33"
                                         />

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrQuantity}" for="ncrQuantity" />
                            <p:inputText id="ncrQuantity" 
                                         value="#{nonConformiteRequestController.selected.ncrQuantity}" 
                                         title="#{ism.NonConformiteRequestFieldInfo_ncrQuantity}" 
                                         size="33"
                                         />

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrUnite}" for="ncrUnite"    />
                            <p:selectOneMenu id="ncrUnite" 
                                             value="#{nonConformiteRequestController.selected.ncrUnite}" 
                                             required="true" 
                                             requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrUnite}"
                                             style="width: 256px;"
                                             >
                                <f:selectItem itemLabel="#{ism.NonConformiteRequestMsgSelectUnite}" itemValue=""/>
                                <f:selectItems value="#{nonConformiteUniteController.itemsAvailableSelectOne}"
                                               var="ncrUniteItem"
                                               itemLabel="#{ncrUniteItem.ncuUnite} - #{ncrUniteItem.ncuDesignation}"
                                               itemValue="#{ncrUniteItem}"
                                               />
                            </p:selectOneMenu>



                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrNature}" for="ncrNature" />
                            <p:selectOneMenu id="ncrNature" 
                                             value="#{nonConformiteRequestController.selected.ncrNature}"
                                             required="true"
                                             requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrNature}" 
                                             style="width: 256px;"
                                             >
                                <f:selectItem itemLabel="#{ism.NonConformiteRequestMsgSelectNature}" itemValue=""/>
                                <f:selectItems value="#{nonConformiteNatureController.itemsAvailableSelectOne}"
                                               var="ncrNatureItem"
                                               itemLabel="#{ncrNatureItem.ncnNature} - #{ncrNatureItem.ncnDesignation}"
                                               itemValue="#{ncrNatureItem}" />
                            </p:selectOneMenu>

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrGravity}" for="ncrGravity" />
                            <p:selectOneMenu id="ncrGravity" value="#{nonConformiteRequestController.selected.ncrGravity}" 
                                             required="true" 
                                             requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrGravity}"
                                             style="width: 256px;"
                                             >
                                <f:selectItem itemLabel="#{ism.NonConformiteRequestMsgSelectGravity}" itemValue=""/>
                                <f:selectItems value="#{nonConformiteGravityController.itemsAvailableSelectOne}"
                                               var="ncrGravityItem"
                                               itemLabel="#{ncrGravityItem.ncgGravity} - #{ncrGravityItem.ncgDesignation}"
                                               itemValue="#{ncrGravityItem}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrFrequency}" for="ncrFrequency" />
                            <p:selectOneMenu id="ncrFrequency" value="#{nonConformiteRequestController.selected.ncrFrequency}" 
                                             required="true" 
                                             requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrFrequency}"
                                             style="width: 256px;"
                                             >
                                <f:selectItem itemLabel="#{ism.NonConformiteRequestMsgSelectFrequency}" itemValue=""/>
                                <f:selectItems value="#{nonConformiteFrequencyController.itemsAvailableSelectOne}"
                                               var="ncrFrequencyItem"
                                               itemLabel="#{ncrFrequencyItem.ncfFrequency} - #{ncrFrequencyItem.ncfDesignation}"
                                               itemValue="#{ncrFrequencyItem}"/>
                            </p:selectOneMenu>
                        </p:panelGrid>


                        <p:panelGrid columns="2" >
                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrTitle}" 
                                           for="ncrTitle" />
                            <p:inputText id="ncrTitle" 
                                         value="#{nonConformiteRequestController.selected.ncrTitle}" 
                                         required="true"  
                                         title="#{ism.NonConformiteRequestFieldInfo_ncrTitle}" 
                                         style="width: 256px;"
                                         />


                            <p:commandLink  onclick="PF('v_ncrDescription').clear();">
                                <p:outputLabel value="#{ism.NonConformiteRequestField_ncrDescription}" for="ncrDescription" />
                            </p:commandLink>
                            <p:editor id="ncrDescription" width="275" height="200"
                                      value="#{nonConformiteRequestController.selected.ncrDescription}" 
                                      widgetVar="v_ncrDescription"
                                      controls="bold italic underline strikethrough font size style color highlight bullets numbering"
                                      required="true" requiredMessage="#{ism.NonConformiteRequestRequiredMsg_ncrDescription}"
                                      />


                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrStaff}" for="ncrStaff" />
                            <p:selectOneMenu id="ncrStaff" value="#{nonConformiteRequestController.selected.ncrStaff}" required="true" requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrStaff}"
                                             style="width: 256px;"
                                             >
                                <f:selectItem itemLabel="#{staffAuthController.staff.stStaff} - #{staffAuthController.staff.stFirstname} #{staffAuthController.staff.stLastname} #{staffAuthController.staff.stMiddlename}"
                                              itemValue="#{staffAuthController.staff}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="#{ism.NonConformiteRequestField_ncrCompany}" for="ncrCompany" />
                            <p:selectOneMenu id="ncrCompany" value="#{nonConformiteRequestController.selected.ncrCompany}" required="true" requiredMessage="#{ism.NonConformiteRequestFieldInfo_ncrCompany}"
                                             style="width: 256px;">
                                <f:selectItem  itemValue="#{staffAuthController.company}"
                                               itemLabel="#{staffAuthController.company.CCompany} - #{staffAuthController.company.CDesignation}" />
                            </p:selectOneMenu>
                        </p:panelGrid>
                    </p:panelGrid>

                    <p:commandButton actionListener="#{nonConformiteRequestController.update}" 
                                     value="#{ism.Save}" 
                                     update="display,:NonConformiteRequestListForm:datalist,:growl" 
                                     oncomplete="handleSubmit(args, 'NonConformiteRequestEditDialog');"/>
                    <p:commandButton value="#{ism.Cancel}" 
                                     icon="ismCancel"
                                     onclick="PF('NonConformiteRequestEditDialog').hide();"
                                     />
                </h:panelGroup>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
